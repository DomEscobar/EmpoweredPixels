import{d as ae,o as c,c as b,a as e,t as u,q as F,b as j,F as N,s as L,j as W,x as J,n as S,y as be,z as pe,A as he,l as X,e as T,f as ee,g as V,w as K,T as Z,B as te,k as se,i as ve,v as fe,_ as ye}from"./index-DdJYqMmv.js";import{u as xe}from"./store-dBYPAPHw.js";const _e={class:"space-y-8"},we={class:"rounded-xl border border-slate-800 bg-slate-800/30 p-4"},ke={class:"mb-3 flex items-center justify-between"},Ce={class:"flex items-center gap-3"},Ae={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 text-lg font-black text-white shadow-lg"},Se={class:"text-sm font-medium text-white"},$e={class:"text-xs text-slate-500"},Ie={class:"text-right"},Ee={class:"text-2xl font-bold text-white"},Re={class:"h-3 overflow-hidden rounded-full bg-slate-800"},Me={class:"mb-6"},ze={class:"grid grid-cols-2 gap-3"},Ne={class:"mb-2 flex items-center justify-between"},Le={class:"text-sm text-slate-400"},Oe={class:"text-lg font-bold text-white"},Pe={class:"h-1.5 overflow-hidden rounded-full bg-slate-800"},Te={class:"mb-6"},Ve={class:"grid grid-cols-2 gap-3"},We={class:"mb-2 flex items-center justify-between"},je={class:"text-sm text-slate-400"},Fe={class:"text-lg font-bold text-white"},Be={class:"h-1.5 overflow-hidden rounded-full bg-slate-800"},Ue={class:"grid grid-cols-2 gap-3"},Ge={class:"mb-2 flex items-center justify-between"},qe={class:"text-sm text-slate-400"},De={class:"text-lg font-bold text-white"},He={class:"h-1.5 overflow-hidden rounded-full bg-slate-800"},Xe={key:0,class:"space-y-2"},Ye={class:"flex items-center gap-4"},Ke={class:"flex items-center gap-2"},Ze={key:0,class:"rounded bg-emerald-500/20 px-1.5 py-0.5 text-xs font-bold text-emerald-400"},Je={class:"flex items-center gap-2 text-xs text-slate-500"},Qe={key:1,class:"rounded-xl border-2 border-dashed border-slate-800 p-8 text-center"},et={class:"grid grid-cols-5 gap-2"},tt=["onClick"],st={class:"text-3xl"},lt={key:0,class:"mt-3 text-sm text-slate-500"},at=ae({__name:"FighterStats",props:{fighter:{},equipment:{}},setup(_){const l=_,i=xe(),E=[{id:"Fire",name:"Fire",icon:"ðŸ”¥",bgActive:"bg-orange-900/50",ring:"ring-orange-500",shadow:"shadow-orange-500/30"},{id:"Water",name:"Water",icon:"ðŸ’§",bgActive:"bg-blue-900/50",ring:"ring-blue-500",shadow:"shadow-blue-500/30"},{id:"Earth",name:"Earth",icon:"ðŸª¨",bgActive:"bg-amber-900/50",ring:"ring-amber-600",shadow:"shadow-amber-500/30"},{id:"Wind",name:"Wind",icon:"ðŸ’¨",bgActive:"bg-teal-900/50",ring:"ring-teal-500",shadow:"shadow-teal-500/30"},{id:"Lightning",name:"Lightning",icon:"âš¡",bgActive:"bg-yellow-900/50",ring:"ring-yellow-500",shadow:"shadow-yellow-500/30"}],k=g=>({Fire:"Increases damage output and burn effects in combat.",Water:"Enhances healing abilities and resistance to fire.",Earth:"Boosts armor and stability, reducing knockback.",Wind:"Improves speed and evasion, enabling faster attacks.",Lightning:"Adds chain damage and stun potential to attacks."})[g]||"",v=async g=>{const s=l.fighter.attunementId===g?null:g;await i.updateAttunement(l.fighter.id,s)},x=J(()=>l.fighter.levelExp?Math.round(l.fighter.currentExp/l.fighter.levelExp*100):0),$=J(()=>[{key:"power",label:"Power",value:l.fighter.power},{key:"precision",label:"Precision",value:l.fighter.precision},{key:"ferocity",label:"Ferocity",value:l.fighter.ferocity},{key:"conditionPower",label:"Condition Power",value:l.fighter.conditionPower}]),B=J(()=>[{key:"vitality",label:"Vitality",value:l.fighter.vitality},{key:"armor",label:"Armor",value:l.fighter.armor},{key:"parryChance",label:"Parry Chance",value:l.fighter.parryChance,rawValue:l.fighter.parryChance,suffix:"%"},{key:"healingPower",label:"Healing Power",value:l.fighter.healingPower}]),M=J(()=>[{key:"speed",label:"Speed",value:l.fighter.speed,rawValue:l.fighter.speed,suffix:""},{key:"agility",label:"Agility",value:l.fighter.agility,rawValue:l.fighter.agility,suffix:""},{key:"accuracy",label:"Accuracy",value:l.fighter.accuracy,rawValue:l.fighter.accuracy,suffix:""},{key:"vision",label:"Vision",value:l.fighter.vision,rawValue:l.fighter.vision,suffix:""}]),d=g=>{const s=g.toLowerCase();return s.includes("sword")||s.includes("weapon")||s.includes("axe")||s.includes("dagger")?"âš”ï¸":s.includes("staff")||s.includes("wand")?"ðŸª„":s.includes("bow")?"ðŸ¹":s.includes("chest")||s.includes("armor")||s.includes("plate")?"ðŸ›¡ï¸":s.includes("head")||s.includes("helmet")||s.includes("helm")?"ðŸª–":s.includes("legs")||s.includes("pants")||s.includes("greaves")?"ðŸ‘–":s.includes("shoes")||s.includes("boots")||s.includes("feet")?"ðŸ¥¾":s.includes("gloves")||s.includes("hands")||s.includes("gauntlets")?"ðŸ§¤":s.includes("ring")?"ðŸ’":s.includes("amulet")||s.includes("necklace")?"ðŸ“¿":"ðŸ“¦"},o=g=>{switch(g){case 0:return"bg-slate-700 text-slate-300";case 1:return"bg-gradient-to-br from-emerald-800 to-emerald-900 text-emerald-300";case 2:return"bg-gradient-to-br from-blue-800 to-blue-900 text-blue-300";case 3:return"bg-gradient-to-br from-purple-800 to-purple-900 text-purple-300";case 4:return"bg-gradient-to-br from-amber-700 to-orange-800 text-amber-200";default:return"bg-slate-700"}},h=g=>{switch(g){case 0:return"border border-slate-800 bg-slate-900/50";case 1:return"border border-emerald-500/30 bg-emerald-950/30";case 2:return"border border-blue-500/30 bg-blue-950/30";case 3:return"border border-purple-500/30 bg-purple-950/30";case 4:return"border border-amber-500/30 bg-amber-950/30";default:return"border border-slate-800 bg-slate-900/50"}},f=g=>{switch(g){case 0:return"text-slate-400";case 1:return"text-emerald-400";case 2:return"text-blue-400";case 3:return"text-purple-400";case 4:return"text-amber-400";default:return"text-slate-400"}},A=g=>{switch(g){case 0:return"Common";case 1:return"Rare";case 2:return"Fabled";case 3:return"Mythic";case 4:return"Legendary";default:return"Unknown"}};return(g,s)=>(c(),b("div",_e,[e("section",we,[e("div",ke,[e("div",Ce,[e("div",Ae,u(_.fighter.level),1),e("div",null,[e("div",Se,"Level "+u(_.fighter.level),1),e("div",$e,u(_.fighter.currentExp)+" / "+u(_.fighter.levelExp)+" XP",1)])]),e("div",Ie,[e("div",Ee,u(x.value)+"%",1),s[0]||(s[0]=e("div",{class:"text-xs text-slate-500"},"to next level",-1))])]),e("div",Re,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 transition-all duration-700",style:F({width:`${x.value}%`})},null,4)])]),e("section",null,[s[4]||(s[4]=e("h4",{class:"mb-4 flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-slate-400"},[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),j(" Combat Attributes ")],-1)),e("div",Me,[s[1]||(s[1]=e("div",{class:"mb-2 text-xs font-medium uppercase tracking-wider text-red-400"},"Offense",-1)),e("div",ze,[(c(!0),b(N,null,L($.value,a=>(c(),b("div",{key:a.key,class:"rounded-lg border border-slate-800 bg-slate-900/50 p-3"},[e("div",Ne,[e("span",Le,u(a.label),1),e("span",Oe,u(a.value),1)]),e("div",Pe,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-red-500 to-orange-500 transition-all",style:F({width:`${Math.min(100,a.value)}%`})},null,4)])]))),128))])]),e("div",Te,[s[2]||(s[2]=e("div",{class:"mb-2 text-xs font-medium uppercase tracking-wider text-emerald-400"},"Defense",-1)),e("div",Ve,[(c(!0),b(N,null,L(B.value,a=>(c(),b("div",{key:a.key,class:"rounded-lg border border-slate-800 bg-slate-900/50 p-3"},[e("div",We,[e("span",je,u(a.label),1),e("span",Fe,u(a.value),1)]),e("div",Be,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all",style:F({width:`${Math.min(100,a.value)}%`})},null,4)])]))),128))])]),e("div",null,[s[3]||(s[3]=e("div",{class:"mb-2 text-xs font-medium uppercase tracking-wider text-sky-400"},"Utility",-1)),e("div",Ue,[(c(!0),b(N,null,L(M.value,a=>(c(),b("div",{key:a.key,class:"rounded-lg border border-slate-800 bg-slate-900/50 p-3"},[e("div",Ge,[e("span",qe,u(a.label),1),e("span",De,u(a.value)+u(a.suffix||""),1)]),e("div",He,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-sky-500 to-indigo-500 transition-all",style:F({width:`${Math.min(100,a.rawValue)}%`})},null,4)])]))),128))])])]),e("section",null,[s[7]||(s[7]=e("h4",{class:"mb-4 flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-slate-400"},[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})]),j(" Equipment ")],-1)),_.equipment.length?(c(),b("div",Xe,[(c(!0),b(N,null,L(_.equipment,a=>(c(),b("div",{key:a.id,class:S(["flex items-center justify-between rounded-xl p-4 transition-all",h(a.rarity)])},[e("div",Ye,[e("div",{class:S(["flex h-12 w-12 items-center justify-center rounded-xl text-2xl shadow-lg",o(a.rarity)])},u(d(a.type)),3),e("div",null,[e("div",Ke,[e("span",{class:S(["font-bold",f(a.rarity)])},u(a.type),3),a.enhancement?(c(),b("span",Ze," +"+u(a.enhancement),1)):W("",!0)]),e("div",Je,[e("span",null,"Level "+u(a.level),1),s[5]||(s[5]=e("span",{class:"h-1 w-1 rounded-full bg-slate-600"},null,-1)),e("span",{class:S(f(a.rarity))},u(A(a.rarity)),3)])])])],2))),128))])):(c(),b("div",Qe,[...s[6]||(s[6]=[e("div",{class:"mb-2 text-3xl"},"ðŸ“¦",-1),e("p",{class:"text-sm text-slate-500"},"No equipment assigned",-1),e("p",{class:"mt-1 text-xs text-slate-600"},"Visit the Inventory to equip gear",-1)])]))]),e("section",null,[s[8]||(s[8]=e("h4",{class:"mb-4 flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-slate-400"},[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),j(" Elemental Attunement ")],-1)),e("div",et,[(c(),b(N,null,L(E,a=>e("button",{key:a.id,onClick:R=>v(a.id),class:S(["flex flex-col items-center gap-2 rounded-xl p-4 transition-all",_.fighter.attunementId===a.id?`${a.bgActive} ring-2 ${a.ring} shadow-lg ${a.shadow}`:"border border-slate-800 bg-slate-900/50 hover:bg-slate-800"])},[e("span",st,u(a.icon),1),e("span",{class:S(["text-xs font-bold uppercase tracking-wider",_.fighter.attunementId===a.id?"text-white":"text-slate-500"])},u(a.name),3)],10,tt)),64))]),_.fighter.attunementId?(c(),b("p",lt,u(k(_.fighter.attunementId)),1)):W("",!0)])]))}}),nt=_=>{let l=3735928559;for(let i=0;i<_.length;i++)l=Math.imul(l^_.charCodeAt(i),2654435761);return()=>(l=Math.imul(l^l>>>16,2246822507),l=Math.imul(l^l>>>13,3266489909),(l>>>0)/4294967296)},ot=(_,l)=>{const i=nt(_),E=["#fca5a5","#fcd34d","#ad5e25","#5f370e","#e5e7eb","#d1d5db","#9ca3af"],k=E[Math.floor(i()*E.length)];let v="#3b82f6",x="#1e3a8a";const $=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#6366f1"],B=["#1e3a8a","#991b1b","#065f46","#b45309","#5b21b6","#4338ca"];if(l==="Fire")v="#ef4444",x="#991b1b";else if(l==="Earth")v="#d97706",x="#78350f";else if(l==="Water")v="#3b82f6",x="#1e3a8a";else if(l==="Wind")v="#10b981",x="#065f46";else if(l==="Lightning")v="#eab308",x="#854d0e";else{const o=Math.floor(i()*$.length);v=$[o],x=B[o]}const M=.9+i()*.2,d=.85+i()*.3;return{skin:k,armorPrimary:v,armorSecondary:x,heightScale:M,buildScale:d,headType:i()>.5?"helmet":"standard"}},it=32,le=ae({__name:"VoxelFighter",props:{seed:{},attunement:{},animate:{type:Boolean},isAttacking:{type:Boolean},facing:{}},setup(_){const l=_,i=X(null);let E;const k=(d,o,h)=>{const f=Math.cos(h),A=Math.sin(h);return{x:d*f-o*A,y:d*A+o*f}},v=(d,o,h,f,A)=>{const g=(d-o)*32,s=(d+o)*16;return{x:h/2+g*A,y:f/2+s*A}},x=(d,o)=>{const h=parseInt(d.slice(1),16),f=o<0?0:255,A=o<0?o*-1:o,g=h>>16,s=h>>8&255,a=h&255;return"#"+(16777216+(Math.round((f-g)*A)+g)*65536+(Math.round((f-s)*A)+s)*256+(Math.round((f-a)*A)+a)).toString(16).slice(1)},$=(d,o,h,f,A,g,s,a,R,O,U,G)=>{const r=A/2,t=g/2,n=[{x:r,y:t},{x:-r,y:t},{x:-r,y:-t},{x:r,y:-t}],p=n.map(m=>{const C=k(m.x,m.y,a);return{x:o+C.x,y:h+C.y,z:f+s}}),q=n.map(m=>{const C=k(m.x,m.y,a);return{x:o+C.x,y:h+C.y,z:f}}),D=m=>{const C=v(m.x,m.y,U,G,O);return{x:C.x,y:C.y-m.z*it*O}},y=p.map(D),I=q.map(D);d.fillStyle=x(R,.1),d.beginPath(),d.moveTo(y[0].x,y[0].y);for(let m=1;m<4;m++)d.lineTo(y[m].x,y[m].y);d.closePath(),d.fill(),d.strokeStyle=x(R,-.2),d.lineWidth=1,d.stroke();let P=0,H=y[0].y;for(let m=1;m<4;m++)y[m].y>H&&(H=y[m].y,P=m);const z=(m,C,Y)=>{d.fillStyle=x(R,Y),d.beginPath(),d.moveTo(y[m].x,y[m].y),d.lineTo(y[C].x,y[C].y),d.lineTo(I[C].x,I[C].y),d.lineTo(I[m].x,I[m].y),d.closePath(),d.fill(),d.stroke()};z(P,(P+1)%4,-.3),z(P,(P+3)%4,-.1)},B=(d,o,h,f,A,g)=>{const R=Math.sin(h*.005)*.05,O=l.animate?Math.sin(h*.005*2):0,U=l.facing==="left"?Math.PI/2:l.facing==="right"?0:Math.PI/4,G=O*.2;let r=-O*.2,t=O*.2;if(g){const w=Math.sin(h*.03);t=-Math.PI/2+w*.5}const n=.25*o.buildScale,p=.12*o.buildScale,q=.3*o.heightScale,D=.25*(o.buildScale*.9),y=.08*o.buildScale,I=.3*o.heightScale,P=0,H=P+I,z=[];z.push({cx:0,cy:0,cz:H+R,w:n,d:p,h:q,offsetVec:{x:0,y:0,z:0},color:o.armorPrimary}),z.push({cx:0,cy:0,cz:H+q+R,w:D,d:D,h:D,offsetVec:{x:0,y:0,z:0},color:o.headType==="helmet"?o.armorSecondary:o.skin});const m=.06*o.buildScale;z.push({cx:0,cy:m,cz:P,w:y,d:y,h:I,offsetVec:{x:Math.sin(G)*.1,y:0,z:0},color:o.armorSecondary}),z.push({cx:0,cy:-m,cz:P,w:y,d:y,h:I,offsetVec:{x:Math.sin(-G)*.1,y:0,z:0},color:o.armorSecondary});const C=H+q-.05,Y=.16*o.buildScale;z.push({cx:0,cy:Y,cz:C-I+R,w:y,d:y,h:I,offsetVec:{x:Math.sin(r)*.1,y:0,z:Math.cos(r)*.1-.1},color:o.armorPrimary});const ne=Math.sin(t)*.2,oe=C-I+Math.cos(t)*.1-.1+R;z.push({cx:0,cy:-Y,cz:C-I+R,w:y,d:y,h:I,offsetVec:{x:ne,y:0,z:oe-(C-I+R)},color:o.armorPrimary}),z.push({cx:.1,cy:-Y-.05,cz:oe,w:.4,d:.05,h:.05,offsetVec:{x:ne+.2,y:0,z:0},color:"#cbd5e1"});const ie=z.map(w=>{let Q=w.cx+w.offsetVec.x,me=w.cy+w.offsetVec.y,re=w.cz+w.offsetVec.z;const de=k(Q,me,U),ce=de.x,ue=de.y,ge=ce+ue+re*.1;return{...w,wx:ce,wy:ue,wz:re,depth:ge}});ie.sort((w,Q)=>w.depth-Q.depth),ie.forEach(w=>{$(d,w.wx,w.wy,w.wz,w.w,w.d,w.h,U,w.color,1.5,f,A)})},M=d=>{if(!i.value)return;const o=i.value.getContext("2d");if(!o)return;const h=i.value.getBoundingClientRect();(i.value.width!==h.width||i.value.height!==h.height)&&(i.value.width=h.width,i.value.height=h.height);const f=ot(l.seed,l.attunement);o.clearRect(0,0,i.value.width,i.value.height),B(o,f,d,i.value.width,i.value.height,l.isAttacking||!1),l.animate&&(E=requestAnimationFrame(M))};return be(()=>{E=requestAnimationFrame(M)}),pe(()=>{cancelAnimationFrame(E)}),he(()=>[l.seed,l.attunement],()=>{M(performance.now())}),(d,o)=>(c(),b("canvas",{ref_key:"canvas",ref:i,class:"w-full h-full object-contain pixelated"},null,512))}}),rt={class:"relative z-10 max-w-7xl mx-auto space-y-6"},dt={class:"pixel-box bg-slate-900/95 p-6"},ct={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},ut={class:"flex items-center gap-4"},bt=["src"],xt={class:"flex items-center gap-4"},mt={class:"pixel-box-sm bg-slate-800/80 px-4 py-2 text-center"},gt={class:"text-2xl font-bold text-white"},pt=["src"],ht={key:0,class:"pixel-box bg-slate-900/90 py-20 text-center"},vt={key:1,class:"pixel-box bg-slate-900/90 py-16 text-center"},ft=["src"],yt={key:2,class:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3"},_t={class:"p-4 space-y-4"},wt={class:"flex items-start gap-4"},kt={class:"relative"},Ct={class:"absolute -bottom-1 -right-1 bg-amber-600 text-white text-xs font-bold px-1.5 py-0.5 border-2 border-slate-900"},At={class:"flex-1 min-w-0"},St={class:"truncate text-lg font-bold text-white"},$t={class:"mt-1 flex items-center gap-2"},It={key:0,class:"text-xs text-slate-500"},Et={class:"mt-2"},Rt={class:"mb-0.5 flex justify-between text-[10px]"},Mt={class:"text-slate-400"},zt={class:"h-1.5 pixel-box-sm bg-slate-800/80 overflow-hidden"},Nt={class:"grid grid-cols-4 gap-1"},Lt={class:"text-[10px] text-slate-500 uppercase"},Ot={class:"space-y-1.5"},Pt={class:"mb-0.5 flex justify-between text-[10px]"},Tt={class:"text-slate-500 uppercase"},Vt={class:"text-slate-400"},Wt={class:"h-1 pixel-box-sm bg-slate-800/80 overflow-hidden"},jt={class:"flex gap-1"},Ft=["onClick","title"],Bt=["onClick"],Ut={class:"flex gap-2 pt-2 border-t-2 border-slate-800"},Gt=["onClick"],qt=["onClick"],Dt=["src"],Ht={key:0,class:"fixed inset-0 z-100"},Xt={class:"sticky top-0 z-10 pixel-box bg-slate-900/95 border-t-0 border-x-0 p-4"},Yt={class:"flex items-center justify-between"},Kt={class:"flex items-center gap-3"},Zt={class:"text-xl font-bold text-amber-400 text-shadow-retro"},Jt={class:"text-sm text-slate-400"},Qt={class:"p-4 space-y-6"},es={key:0,class:"fixed inset-0 z-100 flex items-center justify-center p-4"},ts={key:0,class:"pixel-box bg-slate-900 w-full max-w-lg relative z-10"},ss={class:"p-4 border-b-4 border-slate-800 flex items-center gap-3"},ls=["src"],as={class:"flex justify-center"},ns={class:"relative"},os={class:"absolute -bottom-3 left-1/2 -translate-x-1/2 whitespace-nowrap pixel-box-sm bg-slate-800 px-3 py-1 text-sm font-bold text-white"},is={class:"pt-4"},rs={class:"mt-1 text-[10px] text-slate-600"},ds={class:"grid grid-cols-5 gap-2"},cs=["onClick"],us={class:"text-xl"},bs={class:"flex gap-3 pt-2"},xs=["disabled"],ms={key:0,class:"flex items-center justify-center gap-2"},gs={key:1},ps={key:0,class:"fixed inset-0 z-100 flex items-center justify-center p-4"},hs={class:"pixel-box bg-slate-900 w-full max-w-sm relative z-10 p-6"},vs={class:"flex items-center gap-3 mb-4"},fs=["src"],ys={class:"text-slate-300 mb-2"},_s={class:"text-white font-bold"},ws={class:"flex gap-3"},ks=ae({__name:"Roster",setup(_){const l={BG_DUNGEON:"https://vibemedia.space/bg_dungeon_roster_7x8y9z_v1.png?prompt=dark%20dungeon%20stone%20floor%20tile%20texture%20seamless&style=pixel_game_asset&key=NOGON",ICON_BARRACKS:"https://vibemedia.space/icon_barracks_1a2b3c_v1.png?prompt=medieval%20barracks%20building%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_PLUS:"https://vibemedia.space/icon_plus_gold_4d5e6f_v1.png?prompt=golden%20plus%20sign%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_HELMET_EMPTY:"https://vibemedia.space/icon_helmet_empty_7g8h9i_v1.png?prompt=empty%20knight%20helmet%20stand%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_SKULL:"https://vibemedia.space/icon_skull_red_0j1k2l_v1.png?prompt=red%20skull%20warning%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SCROLL:"https://vibemedia.space/icon_scroll_recruit_3m4n5o_v1.png?prompt=recruitment%20scroll%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON"},i=xe(),E=X(!1),k=X(""),v=X(null),x=X(null),$=X(null),B=J(()=>k.value||"preview"),M=[{id:"Fire",name:"Fire",icon:"ðŸ”¥",bgActive:"bg-orange-900/60",borderActive:"border-orange-500"},{id:"Water",name:"Water",icon:"ðŸ’§",bgActive:"bg-blue-900/60",borderActive:"border-blue-500"},{id:"Earth",name:"Earth",icon:"ðŸª¨",bgActive:"bg-amber-900/60",borderActive:"border-amber-600"},{id:"Wind",name:"Wind",icon:"ðŸ’¨",bgActive:"bg-teal-900/60",borderActive:"border-teal-500"},{id:"Lightning",name:"Lightning",icon:"âš¡",bgActive:"bg-yellow-900/60",borderActive:"border-yellow-500"}],d=r=>r&&M.find(t=>t.id===r)?.bgActive||"bg-slate-800",o=r=>({Fire:"bg-linear-to-r from-orange-600 to-red-600",Water:"bg-linear-to-r from-blue-500 to-cyan-500",Earth:"bg-linear-to-r from-amber-600 to-stone-600",Wind:"bg-linear-to-r from-teal-500 to-emerald-500",Lightning:"bg-linear-to-r from-yellow-400 to-amber-500"})[r]||"bg-slate-700",h=r=>r.levelExp?Math.min(100,r.currentExp/r.levelExp*100):0,f=r=>[{key:"power",label:"PWR",value:r.power,color:"text-red-400"},{key:"vitality",label:"VIT",value:r.vitality,color:"text-emerald-400"},{key:"armor",label:"ARM",value:r.armor,color:"text-amber-400"},{key:"speed",label:"SPD",value:r.speed,color:"text-sky-400"}],A=r=>[{key:"accuracy",label:"ACC",value:r.accuracy,percent:r.accuracy/100*100,colorClass:"bg-indigo-500"},{key:"agility",label:"AGI",value:r.agility,percent:r.agility/100*100,colorClass:"bg-purple-500"},{key:"precision",label:"PRE",value:r.precision,percent:r.precision/100*100,colorClass:"bg-pink-500"}],g=()=>{k.value="",v.value=null,E.value=!0},s=()=>{E.value=!1},a=async()=>{if(k.value.trim())try{const r=await i.addFighter(k.value);v.value&&r&&await i.updateAttunement(r.id,v.value),s()}catch{}},R=async r=>{x.value=r,await i.fetchFighterEquipment(r.id)},O=async(r,t)=>{await i.updateAttunement(r,t)},U=r=>{$.value=r},G=async()=>{$.value&&(await i.removeFighter($.value.id),$.value=null)};return be(()=>{i.fetchFighters()}),(r,t)=>(c(),b("div",{class:"min-h-screen p-4 md:p-8 font-mono",style:F({backgroundImage:`url('${l.BG_DUNGEON}')`,backgroundSize:"128px 128px",imageRendering:"pixelated"})},[t[23]||(t[23]=e("div",{class:"pointer-events-none fixed inset-0 z-50 opacity-[0.03] bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(0,0,0,0.3)_2px,rgba(0,0,0,0.3)_4px)]"},null,-1)),t[24]||(t[24]=e("div",{class:"pointer-events-none fixed inset-0 z-40 bg-[radial-gradient(ellipse_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"},null,-1)),e("div",rt,[e("header",dt,[e("div",ct,[e("div",ut,[e("img",{src:l.ICON_BARRACKS,alt:"",class:"w-12 h-12 pixelated"},null,8,bt),t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold text-amber-400 text-shadow-retro tracking-wide"}," WAR ROOM "),e("p",{class:"text-slate-400 text-sm mt-1"}," Train, equip, and prepare thy champions ")],-1))]),e("div",xt,[e("div",mt,[t[6]||(t[6]=e("div",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Warriors",-1)),e("div",gt,u(T(i).fighters.length),1)]),e("button",{onClick:g,class:"rpg-btn flex items-center gap-2"},[e("img",{src:l.ICON_PLUS,alt:"",class:"w-4 h-4 pixelated"},null,8,pt),t[7]||(t[7]=j(" RECRUIT ",-1))])])])]),T(i).isLoading&&!T(i).fighters.length?(c(),b("div",ht,[...t[8]||(t[8]=[e("div",{class:"inline-block animate-spin text-4xl mb-4"},"âš”ï¸",-1),e("p",{class:"text-amber-400 text-shadow-retro animate-pulse"},"Summoning warriors...",-1)])])):T(i).fighters.length?(c(),b("div",yt,[(c(!0),b(N,null,L(T(i).fighters,n=>(c(),b("article",{key:n.id,class:"pixel-box bg-slate-900/90 overflow-hidden group hover:border-indigo-500/50 transition-colors"},[e("div",{class:S(["h-2 w-full",n.attunementId?o(n.attunementId):"bg-slate-700"])},null,2),e("div",_t,[e("div",wt,[e("div",kt,[e("div",{class:S(["pixel-box-sm flex h-16 w-16 items-center justify-center text-3xl overflow-hidden",n.attunementId?d(n.attunementId):"bg-slate-800"])},[V(le,{seed:n.id,attunement:n.attunementId,animate:!0},null,8,["seed","attunement"])],2),e("div",Ct,u(n.level),1)]),e("div",At,[e("h3",St,u(n.name),1),e("div",$t,[t[11]||(t[11]=e("span",{class:"pixel-badge bg-emerald-900/50 border-emerald-500/50 text-emerald-400 text-xs px-2 py-0.5 flex items-center gap-1"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),j(" Ready ")],-1)),n.attunementId?(c(),b("span",It,u(n.attunementId),1)):W("",!0)]),e("div",Et,[e("div",Rt,[t[12]||(t[12]=e("span",{class:"text-slate-500 uppercase"},"EXP",-1)),e("span",Mt,u(n.currentExp)+"/"+u(n.levelExp),1)]),e("div",zt,[e("div",{class:"h-full bg-linear-to-r from-indigo-600 to-purple-500 transition-all",style:F({width:`${h(n)}%`})},null,4)])])])]),e("div",Nt,[(c(!0),b(N,null,L(f(n),p=>(c(),b("div",{key:p.key,class:"pixel-box-sm bg-slate-800/60 p-1.5 text-center"},[e("div",Lt,u(p.label),1),e("div",{class:S(["text-sm font-bold",p.color])},u(p.value),3)]))),128))]),e("div",Ot,[(c(!0),b(N,null,L(A(n),p=>(c(),b("div",{key:p.key},[e("div",Pt,[e("span",Tt,u(p.label),1),e("span",Vt,u(p.value),1)]),e("div",Wt,[e("div",{class:S(["h-full transition-all",p.colorClass]),style:F({width:`${p.percent}%`})},null,6)])]))),128))]),e("div",null,[t[13]||(t[13]=e("div",{class:"mb-1.5 text-[10px] font-bold uppercase tracking-wider text-slate-500"},"Attunement",-1)),e("div",jt,[(c(),b(N,null,L(M,p=>e("button",{key:p.id,onClick:se(q=>O(n.id,p.id),["stop"]),class:S(["pixel-box-sm flex h-8 w-8 items-center justify-center text-base transition-all",n.attunementId===p.id?`${p.bgActive} border-2 ${p.borderActive}`:"bg-slate-800/50 opacity-40 hover:opacity-100 hover:bg-slate-700"]),title:p.name},u(p.icon),11,Ft)),64)),n.attunementId?(c(),b("button",{key:0,onClick:se(p=>O(n.id,null),["stop"]),class:"ml-auto rpg-btn-small text-[10px] px-2"}," CLEAR ",8,Bt)):W("",!0)])]),e("div",Ut,[e("button",{onClick:p=>R(n),class:"rpg-btn flex-1 text-sm py-2"}," MANAGE ",8,Gt),e("button",{onClick:p=>U(n),class:"rpg-btn-small bg-red-900/50 hover:bg-red-800/50 border-red-700 text-red-300 px-3"},[e("img",{src:l.ICON_SKULL,alt:"",class:"w-4 h-4 pixelated"},null,8,Dt)],8,qt)])])]))),128))])):(c(),b("div",vt,[e("img",{src:l.ICON_HELMET_EMPTY,alt:"",class:"w-20 h-20 pixelated mx-auto mb-4 opacity-50"},null,8,ft),t[9]||(t[9]=e("h2",{class:"text-xl font-bold text-slate-400 mb-2"},"No Warriors Yet",-1)),t[10]||(t[10]=e("p",{class:"text-slate-500 text-sm mb-6"}," Thy arena awaits its first champion ",-1)),e("button",{onClick:g,class:"rpg-btn"}," RECRUIT FIRST WARRIOR ")])),(c(),ee(te,{to:"body"},[V(Z,{"enter-active-class":"transition duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:K(()=>[x.value?(c(),b("div",Ht,[e("div",{class:"absolute inset-0 bg-black/80",onClick:t[0]||(t[0]=n=>x.value=null)}),V(Z,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:K(()=>[x.value?(c(),b("aside",{key:0,class:"absolute right-0 top-0 h-full w-full max-w-xl overflow-y-auto pixel-box bg-slate-900 border-l-4 border-slate-700",style:F({backgroundImage:`url('${l.BG_DUNGEON}')`,backgroundSize:"64px 64px",imageRendering:"pixelated"})},[e("div",Xt,[e("div",Yt,[e("div",Kt,[e("div",{class:S(["pixel-box-sm flex h-12 w-12 items-center justify-center overflow-hidden",x.value.attunementId?d(x.value.attunementId):"bg-slate-800"])},[V(le,{seed:x.value.id,attunement:x.value.attunementId,animate:!0},null,8,["seed","attunement"])],2),e("div",null,[e("h2",Zt,u(x.value.name),1),e("p",Jt,"Level "+u(x.value.level)+" Warrior",1)])]),e("button",{onClick:t[1]||(t[1]=n=>x.value=null),class:"rpg-btn-small text-lg px-2 py-1"}," âœ• ")])]),e("div",Qt,[V(at,{fighter:x.value,equipment:T(i).equipment[x.value.id]||[]},null,8,["fighter","equipment"])])],4)):W("",!0)]),_:1})])):W("",!0)]),_:1})])),(c(),ee(te,{to:"body"},[V(Z,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:K(()=>[E.value?(c(),b("div",es,[e("div",{class:"absolute inset-0 bg-black/80",onClick:s}),V(Z,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:K(()=>[E.value?(c(),b("div",ts,[e("div",ss,[e("img",{src:l.ICON_SCROLL,alt:"",class:"w-6 h-6 pixelated"},null,8,ls),t[14]||(t[14]=e("div",null,[e("h2",{class:"text-xl font-bold text-amber-400 text-shadow-retro"},"RECRUIT WARRIOR"),e("p",{class:"text-xs text-slate-500"},"Create a new champion")],-1))]),e("form",{onSubmit:se(a,["prevent"]),class:"p-6 space-y-6"},[e("div",as,[e("div",ns,[e("div",{class:S(["pixel-box flex h-24 w-24 items-center justify-center transition-all overflow-hidden",v.value?d(v.value):"bg-slate-800"])},[V(le,{seed:B.value,attunement:v.value,animate:!0},null,8,["seed","attunement"])],2),e("div",os,u(k.value||"Unnamed"),1)])]),e("div",is,[t[15]||(t[15]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Fighter Name",-1)),ve(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>k.value=n),type:"text",placeholder:"Enter a legendary name...",required:"",minlength:"2",maxlength:"24",class:"w-full pixel-box-sm bg-slate-800 px-4 py-3 text-lg text-white placeholder-slate-600 focus:border-amber-500 focus:outline-none"},null,512),[[fe,k.value]]),e("p",rs,u(k.value.length)+"/24 characters",1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Starting Attunement (Optional)",-1)),e("div",ds,[(c(),b(N,null,L(M,n=>e("button",{key:n.id,type:"button",onClick:p=>v.value=v.value===n.id?null:n.id,class:S(["pixel-box-sm flex flex-col items-center gap-1 p-3 transition-all",v.value===n.id?`${n.bgActive} ${n.borderActive}`:"bg-slate-800/60 hover:bg-slate-700"])},[e("span",us,u(n.icon),1),e("span",{class:S(["text-[10px] font-bold",v.value===n.id?"text-white":"text-slate-500"])},u(n.name),3)],10,cs)),64))])]),t[18]||(t[18]=e("div",{class:"pixel-box-sm bg-slate-800/50 p-3 flex gap-3"},[e("span",{class:"text-indigo-400"},"â„¹ï¸"),e("p",{class:"text-xs text-slate-400"}," Thy fighter shall begin at Level 1. Win battles to earn XP! ")],-1)),e("div",bs,[e("button",{type:"button",onClick:s,class:"rpg-btn-small flex-1"}," CANCEL "),e("button",{type:"submit",disabled:T(i).isLoading||!k.value.trim(),class:S(["rpg-btn flex-1",{"opacity-50 cursor-not-allowed":T(i).isLoading||!k.value.trim()}])},[T(i).isLoading?(c(),b("span",ms,[...t[17]||(t[17]=[e("span",{class:"animate-spin"},"âš™ï¸",-1),j(" RECRUITING... ",-1)])])):(c(),b("span",gs,"RECRUIT"))],10,xs)])],32)])):W("",!0)]),_:1})])):W("",!0)]),_:1})])),(c(),ee(te,{to:"body"},[V(Z,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:K(()=>[$.value?(c(),b("div",ps,[e("div",{class:"absolute inset-0 bg-black/80",onClick:t[3]||(t[3]=n=>$.value=null)}),e("div",hs,[e("div",vs,[e("img",{src:l.ICON_SKULL,alt:"",class:"w-8 h-8 pixelated"},null,8,fs),t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-red-400 text-shadow-retro"},"DISMISS WARRIOR",-1))]),e("p",ys,[t[20]||(t[20]=j(" Art thou certain about dismissing ",-1)),e("span",_s,u($.value.name),1),t[21]||(t[21]=j("? ",-1))]),t[22]||(t[22]=e("div",{class:"pixel-box-sm bg-red-900/20 border-red-500/30 p-3 mb-6 flex gap-2"},[e("span",null,"âš ï¸"),e("p",{class:"text-xs text-red-200"}," This cannot be undone. All progress shall be lost. ")],-1)),e("div",ws,[e("button",{onClick:t[4]||(t[4]=n=>$.value=null),class:"rpg-btn-small flex-1"}," CANCEL "),e("button",{onClick:G,class:"rpg-btn flex-1 bg-red-700 hover:bg-red-600 border-red-800"}," DISMISS ")])])])):W("",!0)]),_:1})]))])],4))}}),$s=ye(ks,[["__scopeId","data-v-93ecc556"]]);export{$s as default};
