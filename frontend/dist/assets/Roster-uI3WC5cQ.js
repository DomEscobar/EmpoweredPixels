import{d as ae,o as r,c,a as e,t as d,q as Z,F,s as j,j as P,n as z,x as J,_ as pe,y as xe,z as ve,A as ge,l as q,e as M,b as X,f as ee,g as E,w as Y,T as K,B as te,k as se,i as fe,v as he}from"./index-hTt4IoxS.js";import{u as ye}from"./store-DlGw8loF.js";const _e={class:"overhaul-theme-container space-y-8"},we={class:"ep-card-iron p-6 overhaul-experience-panel relative overflow-hidden"},ke={class:"relative z-10 flex flex-col sm:flex-row items-center gap-6"},Ce={class:"relative"},Ae={class:"flex h-16 w-16 items-center justify-center rounded-lg border-2 border-amber-500 bg-slate-900 text-2xl font-black text-amber-500 shadow-[0_0_15px_rgba(245,158,11,0.3)]"},Se={class:"flex-1 w-full"},Ie={class:"flex justify-between items-end mb-2"},Ne={class:"text-xs text-slate-500"},$e={class:"h-4 overflow-hidden rounded-sm bg-black border border-slate-800"},Le={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Re={class:"px-4 py-3 border-b border-slate-800 bg-black/40"},ze={class:"text-xs font-bold uppercase tracking-[0.2em] text-slate-400"},Oe={class:"p-4 space-y-3"},Te={class:"text-sm text-slate-400 group-hover:text-amber-200 transition-colors"},Me={class:"flex items-center gap-2"},Ee={class:"text-base font-mono font-bold text-white"},Pe={class:"ep-card-iron overhaul-weapon-panel p-6"},We={class:"flex flex-col md:flex-row gap-8 items-center"},Fe={class:"relative group"},je={class:"w-32 h-32 bg-slate-950 border-2 border-slate-800 rounded flex items-center justify-center relative overflow-hidden"},Be={key:0,class:"absolute inset-0 bg-gradient-to-t from-purple-900/20 to-transparent"},Ge=["src"],Ue={key:2,class:"text-slate-800 text-5xl"},Ve={key:0,class:"flex-1 space-y-4"},De={class:"text-2xl font-bold text-white tracking-tight"},qe={class:"text-xs font-bold uppercase text-purple-400 opacity-80"},He={class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},Xe={class:"block text-[10px] uppercase text-slate-500"},Ye={class:"text-sm font-bold text-amber-100"},Ke={key:1,class:"flex-1 text-center md:text-left py-8"},Ze=ae({__name:"FighterStats",props:{fighter:{},equipment:{}},setup(I){const s=I,n=J(()=>s.fighter.xpToNextLevel?Math.round(s.fighter.xp/s.fighter.xpToNextLevel*100):0),b={name:"Obsidian Dread-Axe",type:"Great-Axe",rarity:"Legendary",iconUrl:"https://vibemedia.space/wpn_axe_fixed_9a8f7b2c.png?prompt=legendary%20obsidian%20battle%20axe%20glow%20purple%20pixel%20art&style=pixel_game_asset&key=NOGON",damage:184,speed:.8,crit:12},h={Common:"bg-slate-500",Rare:"bg-emerald-500",Legendary:"bg-orange-500",Epic:"bg-purple-600"},m=J(()=>[{label:"Base Damage",value:b.damage},{label:"Attack Speed",value:b.speed},{label:"Critical Chance",value:b.crit+"%"},{label:"Durability",value:"100/100"}]),p=J(()=>({Offense:[{key:"power",label:"Combat Power",value:s.fighter.power,suffix:""},{key:"precision",label:"Precision",value:s.fighter.precision,suffix:""},{key:"ferocity",label:"Ferocity",value:s.fighter.ferocity,suffix:""}],Defense:[{key:"vitality",label:"Vitality Pool",value:s.fighter.vitality,suffix:""},{key:"armor",label:"Iron Plating",value:s.fighter.armor,suffix:""},{key:"parry",label:"Blade Parry",value:s.fighter.parryChance,suffix:"%"}],Precision:[{key:"speed",label:"Movement",value:s.fighter.speed,suffix:""},{key:"accuracy",label:"Strike Rating",value:s.fighter.accuracy,suffix:""},{key:"vision",label:"Battle Awareness",value:s.fighter.vision,suffix:""}]}));return(A,y)=>(r(),c("div",_e,[e("section",we,[y[2]||(y[2]=e("div",{class:"absolute -right-10 -top-10 artistic-splatter ep-splatter-ink bg-purple-500/20 w-48 h-48 pointer-events-none"},null,-1)),e("div",ke,[e("div",Ce,[e("div",Ae,d(I.fighter.level),1),y[0]||(y[0]=e("div",{class:"absolute -bottom-2 -right-2 h-6 w-6 bg-amber-500 rounded-full flex items-center justify-center text-[10px] text-black font-bold"},"LV",-1))]),e("div",Se,[e("div",Ie,[y[1]||(y[1]=e("h3",{class:"ep-header-gold text-2xl"},"Commander Level",-1)),e("span",Ne,d(I.fighter.xp)+" / "+d(I.fighter.xpToNextLevel)+" XP",1)]),e("div",$e,[e("div",{class:"h-full bg-gradient-to-r from-amber-600 via-yellow-500 to-amber-600 transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(245,158,11,0.5)]",style:Z({width:`${n.value}%`})},null,4)])])])]),e("section",Le,[(r(!0),c(F,null,j(p.value,(k,i)=>(r(),c("div",{key:i,class:"ep-card-iron overhaul-stat-group"},[e("div",Re,[e("h4",ze,d(i),1)]),e("div",Oe,[(r(!0),c(F,null,j(k,a=>(r(),c("div",{key:a.key,class:"flex items-center justify-between group"},[e("span",Te,d(a.label),1),e("div",Me,[e("span",Ee,d(a.value)+d(a.suffix||""),1)])]))),128))])]))),128))]),e("section",Pe,[y[5]||(y[5]=e("h4",{class:"ep-header-gold mb-6"},"Equipped Armament",-1)),e("div",We,[e("div",Fe,[e("div",je,[b?(r(),c("div",Be)):P("",!0),b?(r(),c("img",{key:1,src:b.iconUrl,class:"w-24 h-24 relative z-10 pixelated"},null,8,Ge)):(r(),c("span",Ue,"âš”ï¸")),b?(r(),c("div",{key:3,class:z(["absolute top-0 left-0 w-8 h-8 -translate-x-4 -translate-y-4 rotate-45",h[b.rarity]])},null,2)):P("",!0)])]),b?(r(),c("div",Ve,[e("div",null,[e("h2",De,d(b.name),1),e("p",qe,d(b.rarity)+" "+d(b.type),1)]),e("div",He,[(r(!0),c(F,null,j(m.value,k=>(r(),c("div",{key:k.label,class:"bg-black/40 border border-slate-800/50 p-2 rounded"},[e("span",Xe,d(k.label),1),e("span",Ye,d(k.value),1)]))),128))]),y[3]||(y[3]=e("div",{class:"pt-4 border-t border-slate-800 flex gap-3"},[e("button",{class:"px-6 py-2 bg-slate-800 hover:bg-red-900/40 text-xs font-bold uppercase tracking-widest text-slate-300 transition-all border border-slate-700"},"Unequip"),e("button",{class:"px-6 py-2 bg-amber-600 hover:bg-amber-500 text-xs font-bold uppercase tracking-widest text-black transition-all border border-amber-400"},"Upgrade")],-1))])):(r(),c("div",Ke,[...y[4]||(y[4]=[e("p",{class:"text-slate-500 italic mb-4"},"No primary weapon currently bound to this fighter.",-1),e("button",{class:"px-8 py-3 bg-slate-900 border border-slate-700 text-xs font-bold uppercase tracking-widest hover:border-amber-500 transition-all"},"Open Armory",-1)])]))])])]))}}),Je=pe(Ze,[["__scopeId","data-v-50066b7d"]]),Qe=I=>{let s=3735928559;for(let n=0;n<I.length;n++)s=Math.imul(s^I.charCodeAt(n),2654435761);return()=>(s=Math.imul(s^s>>>16,2246822507),s=Math.imul(s^s>>>13,3266489909),(s>>>0)/4294967296)},et=(I,s)=>{const n=Qe(I),b=["#fca5a5","#fcd34d","#ad5e25","#5f370e","#e5e7eb","#d1d5db","#9ca3af"],h=b[Math.floor(n()*b.length)];let m="#3b82f6",p="#1e3a8a";const A=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#6366f1"],y=["#1e3a8a","#991b1b","#065f46","#b45309","#5b21b6","#4338ca"];if(s==="Fire")m="#ef4444",p="#991b1b";else if(s==="Earth")m="#d97706",p="#78350f";else if(s==="Water")m="#3b82f6",p="#1e3a8a";else if(s==="Wind")m="#10b981",p="#065f46";else if(s==="Lightning")m="#eab308",p="#854d0e";else{const a=Math.floor(n()*A.length);m=A[a],p=y[a]}const k=.9+n()*.2,i=.85+n()*.3;return{skin:h,armorPrimary:m,armorSecondary:p,heightScale:k,buildScale:i,headType:n()>.5?"helmet":"standard"}},tt=32,le=ae({__name:"VoxelFighter",props:{seed:{},attunement:{},animate:{type:Boolean},isAttacking:{type:Boolean},facing:{}},setup(I){const s=I,n=q(null);let b;const h=(i,a,v)=>{const w=Math.cos(v),C=Math.sin(v);return{x:i*w-a*C,y:i*C+a*w}},m=(i,a,v,w,C)=>{const $=(i-a)*32,L=(i+a)*16;return{x:v/2+$*C,y:w/2+L*C}},p=(i,a)=>{const v=parseInt(i.slice(1),16),w=a<0?0:255,C=a<0?a*-1:a,$=v>>16,L=v>>8&255,W=v&255;return"#"+(16777216+(Math.round((w-$)*C)+$)*65536+(Math.round((w-L)*C)+L)*256+(Math.round((w-W)*C)+W)).toString(16).slice(1)},A=(i,a,v,w,C,$,L,W,N,O,B,G)=>{const o=C/2,t=$/2,l=[{x:o,y:t},{x:-o,y:t},{x:-o,y:-t},{x:o,y:-t}],x=l.map(u=>{const _=h(u.x,u.y,W);return{x:a+_.x,y:v+_.y,z:w+L}}),U=l.map(u=>{const _=h(u.x,u.y,W);return{x:a+_.x,y:v+_.y,z:w}}),V=u=>{const _=m(u.x,u.y,B,G,O);return{x:_.x,y:_.y-u.z*tt*O}},g=x.map(V),S=U.map(V);i.fillStyle=p(N,.1),i.beginPath(),i.moveTo(g[0].x,g[0].y);for(let u=1;u<4;u++)i.lineTo(g[u].x,g[u].y);i.closePath(),i.fill(),i.strokeStyle=p(N,-.2),i.lineWidth=1,i.stroke();let T=0,D=g[0].y;for(let u=1;u<4;u++)g[u].y>D&&(D=g[u].y,T=u);const R=(u,_,H)=>{i.fillStyle=p(N,H),i.beginPath(),i.moveTo(g[u].x,g[u].y),i.lineTo(g[_].x,g[_].y),i.lineTo(S[_].x,S[_].y),i.lineTo(S[u].x,S[u].y),i.closePath(),i.fill(),i.stroke()};R(T,(T+1)%4,-.3),R(T,(T+3)%4,-.1)},y=(i,a,v,w,C,$)=>{const N=Math.sin(v*.005)*.05,O=s.animate?Math.sin(v*.005*2):0,B=s.facing==="left"?Math.PI/2:s.facing==="right"?0:Math.PI/4,G=O*.2;let o=-O*.2,t=O*.2;if($){const f=Math.sin(v*.03);t=-Math.PI/2+f*.5}const l=.25*a.buildScale,x=.12*a.buildScale,U=.3*a.heightScale,V=.25*(a.buildScale*.9),g=.08*a.buildScale,S=.3*a.heightScale,T=0,D=T+S,R=[];R.push({cx:0,cy:0,cz:D+N,w:l,d:x,h:U,offsetVec:{x:0,y:0,z:0},color:a.armorPrimary}),R.push({cx:0,cy:0,cz:D+U+N,w:V,d:V,h:V,offsetVec:{x:0,y:0,z:0},color:a.headType==="helmet"?a.armorSecondary:a.skin});const u=.06*a.buildScale;R.push({cx:0,cy:u,cz:T,w:g,d:g,h:S,offsetVec:{x:Math.sin(G)*.1,y:0,z:0},color:a.armorSecondary}),R.push({cx:0,cy:-u,cz:T,w:g,d:g,h:S,offsetVec:{x:Math.sin(-G)*.1,y:0,z:0},color:a.armorSecondary});const _=D+U-.05,H=.16*a.buildScale;R.push({cx:0,cy:H,cz:_-S+N,w:g,d:g,h:S,offsetVec:{x:Math.sin(o)*.1,y:0,z:Math.cos(o)*.1-.1},color:a.armorPrimary});const oe=Math.sin(t)*.2,ne=_-S+Math.cos(t)*.1-.1+N;R.push({cx:0,cy:-H,cz:_-S+N,w:g,d:g,h:S,offsetVec:{x:oe,y:0,z:ne-(_-S+N)},color:a.armorPrimary}),R.push({cx:.1,cy:-H-.05,cz:ne,w:.4,d:.05,h:.05,offsetVec:{x:oe+.2,y:0,z:0},color:"#cbd5e1"});const ie=R.map(f=>{let Q=f.cx+f.offsetVec.x,be=f.cy+f.offsetVec.y,re=f.cz+f.offsetVec.z;const ce=h(Q,be,B),de=ce.x,ue=ce.y,me=de+ue+re*.1;return{...f,wx:de,wy:ue,wz:re,depth:me}});ie.sort((f,Q)=>f.depth-Q.depth),ie.forEach(f=>{A(i,f.wx,f.wy,f.wz,f.w,f.d,f.h,B,f.color,1.5,w,C)})},k=i=>{if(!n.value)return;const a=n.value.getContext("2d");if(!a)return;const v=n.value.getBoundingClientRect();(n.value.width!==v.width||n.value.height!==v.height)&&(n.value.width=v.width,n.value.height=v.height);const w=et(s.seed,s.attunement);a.clearRect(0,0,n.value.width,n.value.height),y(a,w,i,n.value.width,n.value.height,s.isAttacking||!1),s.animate&&(b=requestAnimationFrame(k))};return xe(()=>{b=requestAnimationFrame(k)}),ve(()=>{cancelAnimationFrame(b)}),ge(()=>[s.seed,s.attunement],()=>{k(performance.now())}),(i,a)=>(r(),c("canvas",{ref_key:"canvas",ref:n,class:"w-full h-full object-contain pixelated"},null,512))}}),st={class:"relative z-10 max-w-7xl mx-auto space-y-6"},lt={class:"pixel-box bg-slate-900/95 p-6"},at={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},ot={class:"flex items-center gap-4"},nt=["src"],it={class:"flex items-center gap-4"},rt={class:"pixel-box-sm bg-slate-800/80 px-4 py-2 text-center"},ct={class:"text-2xl font-bold text-white"},dt=["src"],ut={key:0,class:"pixel-box bg-slate-900/90 py-20 text-center"},pt={key:1,class:"pixel-box bg-slate-900/90 py-16 text-center"},xt=["src"],bt={key:2,class:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3"},mt={class:"p-4 space-y-4"},vt={class:"flex items-start gap-4"},gt={class:"relative"},ft={class:"absolute -bottom-1 -right-1 bg-amber-600 text-white text-xs font-bold px-1.5 py-0.5 border-2 border-slate-900"},ht={class:"flex-1 min-w-0"},yt={class:"truncate text-lg font-bold text-white"},_t={class:"mt-1 flex items-center gap-2"},wt={key:0,class:"text-xs text-slate-500"},kt={class:"mt-2"},Ct={class:"mb-0.5 flex justify-between text-[10px]"},At={class:"text-slate-400"},St={class:"h-1.5 pixel-box-sm bg-slate-800/80 overflow-hidden"},It={class:"mt-2 flex items-center gap-3"},Nt={class:"flex items-center gap-1 text-[10px]"},$t={class:"text-emerald-400 font-bold"},Lt={class:"flex items-center gap-1 text-[10px]"},Rt={class:"text-red-400 font-bold"},zt={class:"flex items-center gap-1 text-[10px] ml-auto"},Ot={class:"text-amber-400 font-bold"},Tt={class:"grid grid-cols-4 gap-1"},Mt={class:"text-[10px] text-slate-500 uppercase"},Et={class:"space-y-1.5"},Pt={class:"mb-0.5 flex justify-between text-[10px]"},Wt={class:"text-slate-500 uppercase"},Ft={class:"text-slate-400"},jt={class:"h-1 pixel-box-sm bg-slate-800/80 overflow-hidden"},Bt={class:"flex gap-1"},Gt=["onClick","title"],Ut=["onClick"],Vt={class:"flex gap-2 pt-2 border-t-2 border-slate-800"},Dt=["onClick"],qt=["onClick"],Ht=["src"],Xt={key:0,class:"fixed inset-0 z-100"},Yt={class:"sticky top-0 z-10 pixel-box bg-slate-900/95 border-t-0 border-x-0 p-4"},Kt={class:"flex items-center justify-between"},Zt={class:"flex items-center gap-3"},Jt={class:"text-xl font-bold text-amber-400 text-shadow-retro"},Qt={class:"text-sm text-slate-400"},es={class:"p-4 space-y-6"},ts={key:0,class:"fixed inset-0 z-100 flex items-center justify-center p-4"},ss={key:0,class:"pixel-box bg-slate-900 w-full max-w-lg relative z-10"},ls={class:"p-4 border-b-4 border-slate-800 flex items-center gap-3"},as=["src"],os={class:"flex justify-center"},ns={class:"relative"},is={class:"absolute -bottom-3 left-1/2 -translate-x-1/2 whitespace-nowrap pixel-box-sm bg-slate-800 px-3 py-1 text-sm font-bold text-white"},rs={class:"pt-4"},cs={class:"mt-1 text-[10px] text-slate-600"},ds={class:"grid grid-cols-5 gap-2"},us=["onClick"],ps={class:"text-xl"},xs={class:"flex gap-3 pt-2"},bs=["disabled"],ms={key:0,class:"flex items-center justify-center gap-2"},vs={key:1},gs={key:0,class:"fixed inset-0 z-100 flex items-center justify-center p-4"},fs={class:"pixel-box bg-slate-900 w-full max-w-sm relative z-10 p-6"},hs={class:"flex items-center gap-3 mb-4"},ys=["src"],_s={class:"text-slate-300 mb-2"},ws={class:"text-white font-bold"},ks={class:"flex gap-3"},Cs=ae({__name:"Roster",setup(I){const s={BG_DUNGEON:"https://vibemedia.space/bg_dungeon_roster_7x8y9z_v1.png?prompt=dark%20dungeon%20stone%20floor%20tile%20texture%20seamless&style=pixel_game_asset&key=NOGON",ICON_BARRACKS:"https://vibemedia.space/icon_barracks_1a2b3c_v1.png?prompt=medieval%20barracks%20building%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_PLUS:"https://vibemedia.space/icon_plus_gold_4d5e6f_v1.png?prompt=golden%20plus%20sign%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_HELMET_EMPTY:"https://vibemedia.space/icon_helmet_empty_7g8h9i_v1.png?prompt=empty%20knight%20helmet%20stand%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_SKULL:"https://vibemedia.space/icon_skull_red_0j1k2l_v1.png?prompt=red%20skull%20warning%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SCROLL:"https://vibemedia.space/icon_scroll_recruit_3m4n5o_v1.png?prompt=recruitment%20scroll%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON"},n=ye(),b=q(!1),h=q(""),m=q(null),p=q(null),A=q(null),y=J(()=>h.value||"preview"),k=[{id:"Fire",name:"Fire",icon:"ðŸ”¥",bgActive:"bg-orange-900/60",borderActive:"border-orange-500"},{id:"Water",name:"Water",icon:"ðŸ’§",bgActive:"bg-blue-900/60",borderActive:"border-blue-500"},{id:"Earth",name:"Earth",icon:"ðŸª¨",bgActive:"bg-amber-900/60",borderActive:"border-amber-600"},{id:"Wind",name:"Wind",icon:"ðŸ’¨",bgActive:"bg-teal-900/60",borderActive:"border-teal-500"},{id:"Lightning",name:"Lightning",icon:"âš¡",bgActive:"bg-yellow-900/60",borderActive:"border-yellow-500"}],i=o=>o&&k.find(t=>t.id===o)?.bgActive||"bg-slate-800",a=o=>({Fire:"bg-linear-to-r from-orange-600 to-red-600",Water:"bg-linear-to-r from-blue-500 to-cyan-500",Earth:"bg-linear-to-r from-amber-600 to-stone-600",Wind:"bg-linear-to-r from-teal-500 to-emerald-500",Lightning:"bg-linear-to-r from-yellow-400 to-amber-500"})[o]||"bg-slate-700",v=o=>!o.xpToNextLevel||o.xpToNextLevel===0?0:Math.min(100,o.xp/o.xpToNextLevel*100),w=o=>[{key:"power",label:"PWR",value:o.power,color:"text-red-400"},{key:"vitality",label:"VIT",value:o.vitality,color:"text-emerald-400"},{key:"armor",label:"ARM",value:o.armor,color:"text-amber-400"},{key:"speed",label:"SPD",value:o.speed,color:"text-sky-400"}],C=o=>[{key:"accuracy",label:"ACC",value:o.accuracy,percent:o.accuracy/100*100,colorClass:"bg-indigo-500"},{key:"agility",label:"AGI",value:o.agility,percent:o.agility/100*100,colorClass:"bg-purple-500"},{key:"precision",label:"PRE",value:o.precision,percent:o.precision/100*100,colorClass:"bg-pink-500"}],$=()=>{h.value="",m.value=null,b.value=!0},L=()=>{b.value=!1},W=async()=>{if(h.value.trim())try{const o=await n.addFighter(h.value);m.value&&o&&await n.updateAttunement(o.id,m.value),L()}catch{}},N=async o=>{p.value=o,await n.fetchFighterEquipment(o.id)},O=async(o,t)=>{await n.updateAttunement(o,t)},B=o=>{A.value=o},G=async()=>{A.value&&(await n.removeFighter(A.value.id),A.value=null)};return xe(()=>{n.fetchFighters()}),(o,t)=>(r(),c("div",{class:"min-h-screen p-4 md:p-8 font-mono",style:Z({backgroundImage:`url('${s.BG_DUNGEON}')`,backgroundSize:"128px 128px",imageRendering:"pixelated"})},[t[26]||(t[26]=e("div",{class:"pointer-events-none fixed inset-0 z-50 opacity-[0.03] bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(0,0,0,0.3)_2px,rgba(0,0,0,0.3)_4px)]"},null,-1)),t[27]||(t[27]=e("div",{class:"pointer-events-none fixed inset-0 z-40 bg-[radial-gradient(ellipse_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"},null,-1)),e("div",st,[e("header",lt,[e("div",at,[e("div",ot,[e("img",{src:s.ICON_BARRACKS,alt:"",class:"w-12 h-12 pixelated"},null,8,nt),t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold text-amber-400 text-shadow-retro tracking-wide"}," WAR ROOM "),e("p",{class:"text-slate-400 text-sm mt-1"}," Train, equip, and prepare thy champions ")],-1))]),e("div",it,[e("div",rt,[t[6]||(t[6]=e("div",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Warriors",-1)),e("div",ct,d(M(n).fighters.length),1)]),e("button",{onClick:$,class:"rpg-btn flex items-center gap-2"},[e("img",{src:s.ICON_PLUS,alt:"",class:"w-4 h-4 pixelated"},null,8,dt),t[7]||(t[7]=X(" RECRUIT ",-1))])])])]),M(n).isLoading&&!M(n).fighters.length?(r(),c("div",ut,[...t[8]||(t[8]=[e("div",{class:"inline-block animate-spin text-4xl mb-4"},"âš”ï¸",-1),e("p",{class:"text-amber-400 text-shadow-retro animate-pulse"},"Summoning warriors...",-1)])])):M(n).fighters.length?(r(),c("div",bt,[(r(!0),c(F,null,j(M(n).fighters,l=>(r(),c("article",{key:l.id,class:"pixel-box bg-slate-900/90 overflow-hidden group hover:border-indigo-500/50 transition-colors"},[e("div",{class:z(["h-2 w-full",l.attunementId?a(l.attunementId):"bg-slate-700"])},null,2),e("div",mt,[e("div",vt,[e("div",gt,[e("div",{class:z(["pixel-box-sm flex h-16 w-16 items-center justify-center text-3xl overflow-hidden",l.attunementId?i(l.attunementId):"bg-slate-800"])},[E(le,{seed:l.id,attunement:l.attunementId,animate:!0},null,8,["seed","attunement"])],2),e("div",ft,d(l.level),1)]),e("div",ht,[e("h3",yt,d(l.name),1),e("div",_t,[t[11]||(t[11]=e("span",{class:"pixel-badge bg-emerald-900/50 border-emerald-500/50 text-emerald-400 text-xs px-2 py-0.5 flex items-center gap-1"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),X(" Ready ")],-1)),l.attunementId?(r(),c("span",wt,d(l.attunementId),1)):P("",!0)]),e("div",kt,[e("div",Ct,[t[12]||(t[12]=e("span",{class:"text-slate-500 uppercase"},"EXP",-1)),e("span",At,d(l.xp)+"/"+d(l.xpToNextLevel),1)]),e("div",St,[e("div",{class:"h-full bg-gradient-to-r from-indigo-600 to-purple-500 transition-all",style:Z({width:`${v(l)}%`})},null,4)])]),e("div",It,[e("div",Nt,[e("span",$t,d(l.matchesWon||0),1),t[13]||(t[13]=e("span",{class:"text-slate-500"},"W",-1))]),e("div",Lt,[e("span",Rt,d(l.matchesLost||0),1),t[14]||(t[14]=e("span",{class:"text-slate-500"},"L",-1))]),e("div",zt,[e("span",Ot,d(l.totalMatches||0),1),t[15]||(t[15]=e("span",{class:"text-slate-500"},"Total",-1))])])])]),e("div",Tt,[(r(!0),c(F,null,j(w(l),x=>(r(),c("div",{key:x.key,class:"pixel-box-sm bg-slate-800/60 p-1.5 text-center"},[e("div",Mt,d(x.label),1),e("div",{class:z(["text-sm font-bold",x.color])},d(x.value),3)]))),128))]),e("div",Et,[(r(!0),c(F,null,j(C(l),x=>(r(),c("div",{key:x.key},[e("div",Pt,[e("span",Wt,d(x.label),1),e("span",Ft,d(x.value),1)]),e("div",jt,[e("div",{class:z(["h-full transition-all",x.colorClass]),style:Z({width:`${x.percent}%`})},null,6)])]))),128))]),e("div",null,[t[16]||(t[16]=e("div",{class:"mb-1.5 text-[10px] font-bold uppercase tracking-wider text-slate-500"},"Attunement",-1)),e("div",Bt,[(r(),c(F,null,j(k,x=>e("button",{key:x.id,onClick:se(U=>O(l.id,x.id),["stop"]),class:z(["pixel-box-sm flex h-8 w-8 items-center justify-center text-base transition-all",l.attunementId===x.id?`${x.bgActive} border-2 ${x.borderActive}`:"bg-slate-800/50 opacity-40 hover:opacity-100 hover:bg-slate-700"]),title:x.name},d(x.icon),11,Gt)),64)),l.attunementId?(r(),c("button",{key:0,onClick:se(x=>O(l.id,null),["stop"]),class:"ml-auto rpg-btn-small text-[10px] px-2"}," CLEAR ",8,Ut)):P("",!0)])]),e("div",Vt,[e("button",{onClick:x=>N(l),class:"rpg-btn flex-1 text-sm py-2"}," MANAGE ",8,Dt),e("button",{onClick:x=>B(l),class:"rpg-btn-small bg-red-900/50 hover:bg-red-800/50 border-red-700 text-red-300 px-3"},[e("img",{src:s.ICON_SKULL,alt:"",class:"w-4 h-4 pixelated"},null,8,Ht)],8,qt)])])]))),128))])):(r(),c("div",pt,[e("img",{src:s.ICON_HELMET_EMPTY,alt:"",class:"w-20 h-20 pixelated mx-auto mb-4 opacity-50"},null,8,xt),t[9]||(t[9]=e("h2",{class:"text-xl font-bold text-slate-400 mb-2"},"No Warriors Yet",-1)),t[10]||(t[10]=e("p",{class:"text-slate-500 text-sm mb-6"}," Thy arena awaits its first champion ",-1)),e("button",{onClick:$,class:"rpg-btn"}," RECRUIT FIRST WARRIOR ")])),(r(),ee(te,{to:"body"},[E(K,{"enter-active-class":"transition duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Y(()=>[p.value?(r(),c("div",Xt,[e("div",{class:"absolute inset-0 bg-black/80",onClick:t[0]||(t[0]=l=>p.value=null)}),E(K,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:Y(()=>[p.value?(r(),c("aside",{key:0,class:"absolute right-0 top-0 h-full w-full max-w-xl overflow-y-auto pixel-box bg-slate-900 border-l-4 border-slate-700",style:Z({backgroundImage:`url('${s.BG_DUNGEON}')`,backgroundSize:"64px 64px",imageRendering:"pixelated"})},[e("div",Yt,[e("div",Kt,[e("div",Zt,[e("div",{class:z(["pixel-box-sm flex h-12 w-12 items-center justify-center overflow-hidden",p.value.attunementId?i(p.value.attunementId):"bg-slate-800"])},[E(le,{seed:p.value.id,attunement:p.value.attunementId,animate:!0},null,8,["seed","attunement"])],2),e("div",null,[e("h2",Jt,d(p.value.name),1),e("p",Qt,"Level "+d(p.value.level)+" Warrior",1)])]),e("button",{onClick:t[1]||(t[1]=l=>p.value=null),class:"rpg-btn-small text-lg px-2 py-1"}," âœ• ")])]),e("div",es,[E(Je,{fighter:p.value,equipment:M(n).equipment[p.value.id]||[]},null,8,["fighter","equipment"])])],4)):P("",!0)]),_:1})])):P("",!0)]),_:1})])),(r(),ee(te,{to:"body"},[E(K,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Y(()=>[b.value?(r(),c("div",ts,[e("div",{class:"absolute inset-0 bg-black/80",onClick:L}),E(K,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Y(()=>[b.value?(r(),c("div",ss,[e("div",ls,[e("img",{src:s.ICON_SCROLL,alt:"",class:"w-6 h-6 pixelated"},null,8,as),t[17]||(t[17]=e("div",null,[e("h2",{class:"text-xl font-bold text-amber-400 text-shadow-retro"},"RECRUIT WARRIOR"),e("p",{class:"text-xs text-slate-500"},"Create a new champion")],-1))]),e("form",{onSubmit:se(W,["prevent"]),class:"p-6 space-y-6"},[e("div",os,[e("div",ns,[e("div",{class:z(["pixel-box flex h-24 w-24 items-center justify-center transition-all overflow-hidden",m.value?i(m.value):"bg-slate-800"])},[E(le,{seed:y.value,attunement:m.value,animate:!0},null,8,["seed","attunement"])],2),e("div",is,d(h.value||"Unnamed"),1)])]),e("div",rs,[t[18]||(t[18]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Fighter Name",-1)),fe(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>h.value=l),type:"text",placeholder:"Enter a legendary name...",required:"",minlength:"2",maxlength:"24",class:"w-full pixel-box-sm bg-slate-800 px-4 py-3 text-lg text-white placeholder-slate-600 focus:border-amber-500 focus:outline-none"},null,512),[[he,h.value]]),e("p",cs,d(h.value.length)+"/24 characters",1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Starting Attunement (Optional)",-1)),e("div",ds,[(r(),c(F,null,j(k,l=>e("button",{key:l.id,type:"button",onClick:x=>m.value=m.value===l.id?null:l.id,class:z(["pixel-box-sm flex flex-col items-center gap-1 p-3 transition-all",m.value===l.id?`${l.bgActive} ${l.borderActive}`:"bg-slate-800/60 hover:bg-slate-700"])},[e("span",ps,d(l.icon),1),e("span",{class:z(["text-[10px] font-bold",m.value===l.id?"text-white":"text-slate-500"])},d(l.name),3)],10,us)),64))])]),t[21]||(t[21]=e("div",{class:"pixel-box-sm bg-slate-800/50 p-3 flex gap-3"},[e("span",{class:"text-indigo-400"},"â„¹ï¸"),e("p",{class:"text-xs text-slate-400"}," Thy fighter shall begin at Level 1. Win battles to earn XP! ")],-1)),e("div",xs,[e("button",{type:"button",onClick:L,class:"rpg-btn-small flex-1"}," CANCEL "),e("button",{type:"submit",disabled:M(n).isLoading||!h.value.trim(),class:z(["rpg-btn flex-1",{"opacity-50 cursor-not-allowed":M(n).isLoading||!h.value.trim()}])},[M(n).isLoading?(r(),c("span",ms,[...t[20]||(t[20]=[e("span",{class:"animate-spin"},"âš™ï¸",-1),X(" RECRUITING... ",-1)])])):(r(),c("span",vs,"RECRUIT"))],10,bs)])],32)])):P("",!0)]),_:1})])):P("",!0)]),_:1})])),(r(),ee(te,{to:"body"},[E(K,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Y(()=>[A.value?(r(),c("div",gs,[e("div",{class:"absolute inset-0 bg-black/80",onClick:t[3]||(t[3]=l=>A.value=null)}),e("div",fs,[e("div",hs,[e("img",{src:s.ICON_SKULL,alt:"",class:"w-8 h-8 pixelated"},null,8,ys),t[22]||(t[22]=e("h3",{class:"text-lg font-bold text-red-400 text-shadow-retro"},"DISMISS WARRIOR",-1))]),e("p",_s,[t[23]||(t[23]=X(" Art thou certain about dismissing ",-1)),e("span",ws,d(A.value.name),1),t[24]||(t[24]=X("? ",-1))]),t[25]||(t[25]=e("div",{class:"pixel-box-sm bg-red-900/20 border-red-500/30 p-3 mb-6 flex gap-2"},[e("span",null,"âš ï¸"),e("p",{class:"text-xs text-red-200"}," This cannot be undone. All progress shall be lost. ")],-1)),e("div",ks,[e("button",{onClick:t[4]||(t[4]=l=>A.value=null),class:"rpg-btn-small flex-1"}," CANCEL "),e("button",{onClick:G,class:"rpg-btn flex-1 bg-red-700 hover:bg-red-600 border-red-800"}," DISMISS ")])])])):P("",!0)]),_:1})]))])],4))}}),Ns=pe(Cs,[["__scopeId","data-v-a1995446"]]);export{Ns as default};
