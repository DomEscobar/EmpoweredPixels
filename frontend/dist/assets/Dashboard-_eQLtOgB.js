import{u as C}from"./store-eY7utkZ0.js";import{C as w,D as y,E as k,u as f,d as L,y as I,o,c as a,a as e,t as r,e as i,b as u,n as h,g as c,w as p,F as S,s as R,q as E,x as T,r as A,_ as G}from"./index-CFNdGj8p.js";import{u as M}from"./store-yh1SKDmm.js";import{u as D}from"./store-BN5QQL7Z.js";async function j(l,s=1,x=20,n){return w(`${y.match}/browse`,{method:"POST",token:l,body:{page:s,pageSize:x,status:n}})}async function P(l){try{return await w(`${y.match}/current`,{token:l})}catch{return null}}const B=k("matches",{state:()=>({currentMatch:null,recentMatches:[],isLoading:!1,error:null}),actions:{async fetchCurrentMatch(){const l=f();if(l.token){this.isLoading=!0;try{const s=await P(l.token);this.currentMatch=s??null}catch{this.currentMatch=null}finally{this.isLoading=!1}}},async fetchRecentMatches(){const l=f();if(l.token){this.isLoading=!0;try{const s=await j(l.token,1,5,"completed");this.recentMatches=s.items||[]}catch{this.error="Failed to load match history"}finally{this.isLoading=!1}}}}}),H={class:"relative z-10 max-w-7xl mx-auto space-y-6"},W={class:"pixel-box bg-slate-900/95 p-6"},V={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},z={class:"flex items-center gap-4"},F=["src"],U={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},Y={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},q={class:"flex items-center justify-between"},K={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},$={class:"p-3 pixel-box-sm bg-indigo-900/30 border-indigo-500/30 group-hover:border-indigo-400/50 transition-colors"},J=["src"],Q={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},X={class:"flex items-center justify-between"},Z={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},ee={class:"p-3 pixel-box-sm bg-purple-900/30 border-purple-500/30 group-hover:border-purple-400/50 transition-colors"},te=["src"],se={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},le={class:"flex items-center justify-between"},oe={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},ae={class:"p-3 pixel-box-sm bg-pink-900/30 border-pink-500/30 group-hover:border-pink-400/50 transition-colors"},re=["src"],ie={class:"flex items-center justify-between"},ne={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},de=["src"],ce={class:"mt-4"},pe={key:1,class:"text-xs text-slate-600"},xe={class:"grid gap-6 lg:grid-cols-3"},me={class:"lg:col-span-2"},ge={class:"pixel-box bg-slate-900/90 h-full"},_e={class:"p-4 border-b-4 border-slate-800 flex items-center justify-between"},be={class:"flex items-center gap-3"},ue=["src"],he={class:"p-4"},ve={key:0,class:"py-12 text-center"},fe={key:1,class:"py-12 text-center"},we=["src"],ye={key:2,class:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar"},Oe={class:"flex items-center gap-3"},Ne={class:"font-bold text-slate-200 text-sm"},Ce={class:"text-xs text-slate-500"},ke={class:"space-y-6"},Le={class:"pixel-box bg-slate-900/90"},Ie={class:"p-4 border-b-4 border-slate-800 flex items-center gap-3"},Se=["src"],Re={class:"p-4"},Ee={key:0,class:"text-center"},Te={class:"relative inline-block"},Ae={class:"pixel-box-sm w-20 h-20 mx-auto flex items-center justify-center bg-slate-800/80 border-indigo-500/50 mb-3"},Ge=["src"],Me={class:"absolute -bottom-1 -right-1 bg-indigo-600 text-white text-xs px-2 py-0.5 font-bold border-2 border-slate-900"},De={class:"text-lg font-bold text-white mt-2"},je={class:"mt-2"},Pe={class:"pixel-badge bg-slate-800 text-slate-300 px-2 py-1 text-xs border-slate-600"},Be={key:1,class:"py-6 text-center"},He={class:"pixel-box bg-slate-900/90"},We={class:"p-4 grid grid-cols-2 gap-3"},Ve=["src"],ze=["src"],Fe=["src"],Ue=["src"],Ye=L({__name:"Dashboard",setup(l){const s={BG_DUNGEON:"https://vibemedia.space/bg_dungeon_dash_5y6t7u_v1.png?prompt=dark%20dungeon%20stone%20floor%20tile%20texture%20seamless&style=pixel_game_asset&key=NOGON",ICON_CASTLE:"https://vibemedia.space/icon_castle_cmd_8i9o0p_v1.png?prompt=medieval%20castle%20tower%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_KNIGHT:"https://vibemedia.space/icon_knight_1a2s3d_v1.png?prompt=armored%20knight%20helmet%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_FLAG:"https://vibemedia.space/icon_flag_war_4f5g6h_v1.png?prompt=war%20banner%20flag%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SWORDS:"https://vibemedia.space/icon_crossed_swords_7j8k9l_v1.png?prompt=crossed%20steel%20swords%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_CHEST:"https://vibemedia.space/icon_chest_gold_0m1n2b_v1.png?prompt=golden%20treasure%20chest%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SCROLL:"https://vibemedia.space/icon_scroll_log_3v4c5x_v1.png?prompt=ancient%20scroll%20with%20writing%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_SCROLL_EMPTY:"https://vibemedia.space/icon_scroll_blank_6z7a8s_v1.png?prompt=blank%20parchment%20scroll%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_CROWN:"https://vibemedia.space/icon_crown_gold_9d0f1g_v1.png?prompt=golden%20royal%20crown%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_WARRIOR:"https://vibemedia.space/icon_warrior_elite_2h3j4k_v1.png?prompt=elite%20warrior%20knight%20pixel%20art%20character&style=pixel_game_asset&key=NOGON",ICON_TROPHY:"https://vibemedia.space/icon_trophy_league_5l6p7q_v1.png?prompt=golden%20trophy%20cup%20pixel%20art&style=pixel_game_asset&key=NOGON"},x=C(),n=B(),m=M(),v=D(),b=T(()=>x.fighters.length?[...x.fighters].sort((g,t)=>t.level!==g.level?t.level-g.level:t.power-g.power)[0]:null),O=g=>new Date(g).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=async()=>{await m.claimAll()};return I(()=>{Promise.all([x.fetchFighters(),n.fetchRecentMatches(),m.fetchRewards(),v.fetchLeagues()])}),(g,t)=>{const d=A("router-link");return o(),a("div",{class:"min-h-screen p-4 md:p-8 font-mono",style:E({backgroundImage:`url('${s.BG_DUNGEON}')`,backgroundSize:"128px 128px",imageRendering:"pixelated"})},[t[22]||(t[22]=e("div",{class:"pointer-events-none fixed inset-0 z-50 opacity-[0.03] bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(0,0,0,0.3)_2px,rgba(0,0,0,0.3)_4px)]"},null,-1)),t[23]||(t[23]=e("div",{class:"pointer-events-none fixed inset-0 z-40 bg-[radial-gradient(ellipse_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"},null,-1)),e("div",H,[e("header",W,[e("div",V,[e("div",z,[e("img",{src:s.ICON_CASTLE,alt:"",class:"w-14 h-14 pixelated"},null,8,F),t[0]||(t[0]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold text-amber-400 text-shadow-retro tracking-wide"}," COMMAND CENTER "),e("p",{class:"text-slate-400 text-sm mt-1"}," Welcome back, Commander. All systems operational. ")],-1))]),t[1]||(t[1]=e("div",{class:"pixel-box-sm bg-emerald-900/30 border-emerald-500/50 px-4 py-2 flex items-center gap-2"},[e("div",{class:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e("span",{class:"text-emerald-400 text-xs font-bold uppercase tracking-wider"},"Online")],-1))])]),e("div",U,[e("div",Y,[e("div",q,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Active Roster",-1)),e("p",K,r(i(x).fighters.length),1)]),e("div",$,[e("img",{src:s.ICON_KNIGHT,alt:"",class:"w-8 h-8 pixelated"},null,8,J)])]),t[3]||(t[3]=e("div",{class:"mt-4 h-2 pixel-box-sm bg-slate-800/80 overflow-hidden"},[e("div",{class:"h-full bg-linear-to-r from-indigo-600 to-indigo-400",style:{width:"75%"}})],-1))]),e("div",Q,[e("div",X,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Active Campaigns",-1)),e("p",Z,r(i(v).activeLeagueCount),1)]),e("div",ee,[e("img",{src:s.ICON_FLAG,alt:"",class:"w-8 h-8 pixelated"},null,8,te)])]),t[5]||(t[5]=e("div",{class:"mt-4 flex items-center text-xs"},[e("span",{class:"flex items-center gap-1 text-emerald-400 font-bold"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),u(" LIVE ")]),e("span",{class:"text-slate-500 ml-2"},"Season 1")],-1))]),e("div",se,[e("div",le,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Combat Record",-1)),e("p",oe,r(i(n).recentMatches.length),1)]),e("div",ae,[e("img",{src:s.ICON_SWORDS,alt:"",class:"w-8 h-8 pixelated"},null,8,re)])]),t[7]||(t[7]=e("div",{class:"mt-4 text-xs text-slate-500"}," Recent engagements ",-1))]),e("div",{class:h(["pixel-box bg-slate-900/90 p-4 group transition-all",i(m).rewardCount>0?"border-amber-500/50 shadow-lg shadow-amber-500/10":""])},[e("div",ie,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Pending Rewards",-1)),e("p",ne,r(i(m).rewardCount),1)]),e("div",{class:h(["p-3 pixel-box-sm bg-amber-900/30 border-amber-500/30 transition-colors",i(m).rewardCount>0?"animate-pulse border-amber-400/60":""])},[e("img",{src:s.ICON_CHEST,alt:"",class:"w-8 h-8 pixelated"},null,8,de)],2)]),e("div",ce,[i(m).rewardCount>0?(o(),a("button",{key:0,class:"rpg-btn w-full text-sm py-2",onClick:N}," CLAIM ALL ")):(o(),a("p",pe,"No pending rewards"))])],2)]),e("div",xe,[e("div",me,[e("div",ge,[e("div",_e,[e("div",be,[e("img",{src:s.ICON_SCROLL,alt:"",class:"w-5 h-5 pixelated"},null,8,ue),t[9]||(t[9]=e("h3",{class:"text-lg font-bold text-amber-300"},"BATTLE LOG",-1))]),c(d,{to:"/matches",class:"rpg-btn-small"},{default:p(()=>[...t[10]||(t[10]=[u(" VIEW ALL ",-1)])]),_:1})]),e("div",he,[i(n).isLoading?(o(),a("div",ve,[...t[11]||(t[11]=[e("div",{class:"inline-block animate-spin text-3xl mb-3"},"⚔️",-1),e("p",{class:"text-amber-400 animate-pulse"},"Loading battle data...",-1)])])):i(n).recentMatches.length===0?(o(),a("div",fe,[e("img",{src:s.ICON_SCROLL_EMPTY,alt:"",class:"w-12 h-12 pixelated mx-auto mb-3 opacity-50"},null,8,we),t[13]||(t[13]=e("p",{class:"text-slate-400"},"No recent combat data",-1)),c(d,{to:"/matches",class:"rpg-btn-small mt-4 inline-flex"},{default:p(()=>[...t[12]||(t[12]=[u(" JOIN BATTLE ",-1)])]),_:1})])):(o(),a("div",ye,[(o(!0),a(S,null,R(i(n).recentMatches,_=>(o(),a("div",{key:_.id,class:"pixel-box-sm bg-slate-800/60 p-3 flex items-center justify-between hover:bg-slate-800/80 transition-colors cursor-pointer"},[e("div",Oe,[e("div",{class:h(["w-2 h-2 rounded-full",_.ended?"bg-slate-500":"bg-emerald-400 animate-pulse"])},null,2),e("div",null,[e("p",Ne,"Battle #"+r(_.id.slice(0,8)),1),e("p",Ce,r(O(_.created)),1)])]),e("span",{class:h(["pixel-badge px-2 py-0.5 text-xs font-bold uppercase",_.ended?"bg-slate-700 text-slate-400":"bg-emerald-900/50 text-emerald-400 border-emerald-500/50"])},r(_.ended?"ENDED":"LIVE"),3)]))),128))]))])])]),e("div",ke,[e("div",Le,[e("div",Ie,[e("img",{src:s.ICON_CROWN,alt:"",class:"w-5 h-5 pixelated"},null,8,Se),t[14]||(t[14]=e("h3",{class:"text-lg font-bold text-amber-300"},"CHAMPION",-1))]),e("div",Re,[b.value?(o(),a("div",Ee,[e("div",Te,[e("div",Ae,[e("img",{src:s.ICON_WARRIOR,alt:"",class:"w-14 h-14 pixelated"},null,8,Ge)]),e("div",Me," LVL "+r(b.value.level),1)]),e("h4",De,r(b.value.name),1),e("div",je,[e("span",Pe," Power: "+r(b.value.power),1)])])):(o(),a("div",Be,[t[16]||(t[16]=e("p",{class:"text-slate-500 text-sm"},"No champions found",-1)),c(d,{to:"/roster",class:"rpg-btn-small mt-3 inline-flex"},{default:p(()=>[...t[15]||(t[15]=[u(" RECRUIT ",-1)])]),_:1})]))])]),e("div",He,[t[21]||(t[21]=e("div",{class:"p-4 border-b-4 border-slate-800"},[e("h3",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Quick Actions")],-1)),e("div",We,[c(d,{to:"/matches",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-indigo-500/50 transition-all group"},{default:p(()=>[e("img",{src:s.ICON_SWORDS,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,Ve),t[17]||(t[17]=e("span",{class:"text-xs font-bold text-slate-300"},"BATTLE",-1))]),_:1}),c(d,{to:"/roster",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-purple-500/50 transition-all group"},{default:p(()=>[e("img",{src:s.ICON_KNIGHT,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,ze),t[18]||(t[18]=e("span",{class:"text-xs font-bold text-slate-300"},"ROSTER",-1))]),_:1}),c(d,{to:"/inventory",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-emerald-500/50 transition-all group"},{default:p(()=>[e("img",{src:s.ICON_CHEST,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,Fe),t[19]||(t[19]=e("span",{class:"text-xs font-bold text-slate-300"},"VAULT",-1))]),_:1}),c(d,{to:"/leagues",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-amber-500/50 transition-all group"},{default:p(()=>[e("img",{src:s.ICON_TROPHY,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,Ue),t[20]||(t[20]=e("span",{class:"text-xs font-bold text-slate-300"},"LEAGUES",-1))]),_:1})])])])])])],4)}}}),Qe=G(Ye,[["__scopeId","data-v-80d5f979"]]);export{Qe as default};
