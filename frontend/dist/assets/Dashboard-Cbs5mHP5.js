import{u as I}from"./store-DlGw8loF.js";import{C as y,D as N,E as O,u as v,d as k,y as C,e as o,o as r,c as i,a as e,t as a,j as E,g as c,b,n as h,w as x,F as R,s as A,q as T,x as G,r as M,_ as D}from"./index-hTt4IoxS.js";import{u as j}from"./store-D_bJPgF3.js";import{u as P}from"./store-CwSfg_2b.js";async function $(l,s=1,d=20,n){return y(`${N.match}/browse`,{method:"POST",token:l,body:{page:s,pageSize:d,status:n}})}async function B(l){try{return await y(`${N.match}/current`,{token:l})}catch{return null}}const H=O("matches",{state:()=>({currentMatch:null,recentMatches:[],isLoading:!1,error:null}),actions:{async fetchCurrentMatch(){const l=v();if(l.token){this.isLoading=!0;try{const s=await B(l.token);this.currentMatch=s??null}catch{this.currentMatch=null}finally{this.isLoading=!1}}},async fetchRecentMatches(){const l=v();if(l.token){this.isLoading=!0;try{const s=await $(l.token,1,5,"completed");this.recentMatches=s.items||[]}catch{this.error="Failed to load match history"}finally{this.isLoading=!1}}}}}),V="",w={double_drops:{name:"Double Drops",icon:"ðŸ“¦",color:"text-purple-400"},double_xp:{name:"Double XP",icon:"âš¡",color:"text-yellow-400"},bonus_gold:{name:"Bonus Gold",icon:"ðŸ’°",color:"text-amber-400"},half_price:{name:"Half Price",icon:"ðŸ·ï¸",color:"text-green-400"}};async function W(l){const s=await fetch(`${V}/api/events/status`,{headers:{Authorization:`Bearer ${l}`}});if(!s.ok)throw new Error("Failed to fetch event status");return s.json()}const z=O("events",{state:()=>({eventStatus:null,isLoading:!1,error:null}),actions:{async fetchStatus(){const l=v();if(l.token){this.isLoading=!0;try{this.eventStatus=await W(l.token)}catch(s){this.error=s.message}finally{this.isLoading=!1}}}}}),F={key:0,class:"pixel-box bg-gradient-to-r from-purple-900/50 to-amber-900/50 border-amber-500/50 p-4 mb-6"},U={class:"flex items-center justify-between"},Y={class:"flex items-center gap-4"},q={class:"text-4xl animate-pulse"},K={class:"text-lg font-black text-amber-400 uppercase tracking-wider"},X={class:"text-sm text-slate-300"},J={class:"text-right"},Q={class:"text-2xl font-mono font-bold text-amber-400"},Z=k({__name:"EventBanner",setup(l){const s=z();return C(()=>{s.fetchStatus()}),(d,n)=>o(s).eventStatus?.has_active_event?(r(),i("div",F,[e("div",U,[e("div",Y,[e("div",q,a(o(w)[o(s).eventStatus.type||""]?.icon||"ðŸŽ‰"),1),e("div",null,[e("h3",K,a(o(w)[o(s).eventStatus.type||""]?.name||"Special Event")+" Active! ",1),e("p",X,a(o(s).eventStatus.multiplier)+"x rewards for a limited time! ",1)])]),e("div",J,[n[0]||(n[0]=e("div",{class:"text-xs text-slate-400 uppercase"},"Ends in",-1)),e("div",Q,a(o(s).eventStatus.time_remaining),1)])])])):E("",!0)}}),ee={class:"relative z-10 max-w-7xl mx-auto space-y-6"},te={class:"pixel-box bg-slate-900/95 p-6"},se={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},oe={class:"flex items-center gap-4"},le=["src"],ae={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},re={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},ie={class:"flex items-center justify-between"},ne={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},ce={class:"p-3 pixel-box-sm bg-indigo-900/30 border-indigo-500/30 group-hover:border-indigo-400/50 transition-colors"},de=["src"],pe={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},xe={class:"flex items-center justify-between"},me={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},_e={class:"p-3 pixel-box-sm bg-purple-900/30 border-purple-500/30 group-hover:border-purple-400/50 transition-colors"},ge=["src"],ue={class:"pixel-box bg-slate-900/90 p-4 group hover:bg-slate-900/95 transition-colors"},be={class:"flex items-center justify-between"},he={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},ve={class:"p-3 pixel-box-sm bg-pink-900/30 border-pink-500/30 group-hover:border-pink-400/50 transition-colors"},fe=["src"],we={class:"flex items-center justify-between"},ye={class:"mt-2 text-3xl font-bold text-white text-shadow-retro"},Ne=["src"],Oe={class:"mt-4"},ke={key:1,class:"text-xs text-slate-600"},Ce={class:"grid gap-6 lg:grid-cols-3"},Se={class:"lg:col-span-2"},Le={class:"pixel-box bg-slate-900/90 h-full"},Ie={class:"p-4 border-b-4 border-slate-800 flex items-center justify-between"},Ee={class:"flex items-center gap-3"},Re=["src"],Ae={class:"p-4"},Te={key:0,class:"py-12 text-center"},Ge={key:1,class:"py-12 text-center"},Me=["src"],De={key:2,class:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar"},je={class:"flex items-center gap-3"},Pe={class:"font-bold text-slate-200 text-sm"},$e={class:"text-xs text-slate-500"},Be={class:"space-y-6"},He={class:"pixel-box bg-slate-900/90"},Ve={class:"p-4 border-b-4 border-slate-800 flex items-center gap-3"},We=["src"],ze={class:"p-4"},Fe={key:0,class:"text-center"},Ue={class:"relative inline-block"},Ye={class:"pixel-box-sm w-20 h-20 mx-auto flex items-center justify-center bg-slate-800/80 border-indigo-500/50 mb-3"},qe=["src"],Ke={class:"absolute -bottom-1 -right-1 bg-indigo-600 text-white text-xs px-2 py-0.5 font-bold border-2 border-slate-900"},Xe={class:"text-lg font-bold text-white mt-2"},Je={class:"mt-2"},Qe={class:"pixel-badge bg-slate-800 text-slate-300 px-2 py-1 text-xs border-slate-600"},Ze={key:1,class:"py-6 text-center"},et={class:"pixel-box bg-slate-900/90"},tt={class:"p-4 grid grid-cols-2 gap-3"},st=["src"],ot=["src"],lt=["src"],at=["src"],rt=k({__name:"Dashboard",setup(l){const s={BG_DUNGEON:"https://vibemedia.space/bg_dungeon_dash_5y6t7u_v1.png?prompt=dark%20dungeon%20stone%20floor%20tile%20texture%20seamless&style=pixel_game_asset&key=NOGON",ICON_CASTLE:"https://vibemedia.space/icon_castle_cmd_8i9o0p_v1.png?prompt=medieval%20castle%20tower%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_KNIGHT:"https://vibemedia.space/icon_knight_1a2s3d_v1.png?prompt=armored%20knight%20helmet%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_FLAG:"https://vibemedia.space/icon_flag_war_4f5g6h_v1.png?prompt=war%20banner%20flag%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SWORDS:"https://vibemedia.space/icon_crossed_swords_7j8k9l_v1.png?prompt=crossed%20steel%20swords%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_CHEST:"https://vibemedia.space/icon_chest_gold_0m1n2b_v1.png?prompt=golden%20treasure%20chest%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_SCROLL:"https://vibemedia.space/icon_scroll_log_3v4c5x_v1.png?prompt=ancient%20scroll%20with%20writing%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_SCROLL_EMPTY:"https://vibemedia.space/icon_scroll_blank_6z7a8s_v1.png?prompt=blank%20parchment%20scroll%20pixel%20art&style=pixel_game_asset&key=NOGON",ICON_CROWN:"https://vibemedia.space/icon_crown_gold_9d0f1g_v1.png?prompt=golden%20royal%20crown%20pixel%20art%20icon&style=pixel_game_asset&key=NOGON",ICON_WARRIOR:"https://vibemedia.space/icon_warrior_elite_2h3j4k_v1.png?prompt=elite%20warrior%20knight%20pixel%20art%20character&style=pixel_game_asset&key=NOGON",ICON_TROPHY:"https://vibemedia.space/icon_trophy_league_5l6p7q_v1.png?prompt=golden%20trophy%20cup%20pixel%20art&style=pixel_game_asset&key=NOGON"},d=I(),n=H(),m=j(),f=P(),u=G(()=>d.fighters.length?[...d.fighters].sort((_,t)=>t.level!==_.level?t.level-_.level:t.power-_.power)[0]:null),S=_=>new Date(_).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=async()=>{await m.claimAll()};return C(()=>{Promise.all([d.fetchFighters(),n.fetchRecentMatches(),m.fetchRewards(),f.fetchLeagues()])}),(_,t)=>{const p=M("router-link");return r(),i("div",{class:"min-h-screen p-4 md:p-8 font-mono",style:T({backgroundImage:`url('${s.BG_DUNGEON}')`,backgroundSize:"128px 128px",imageRendering:"pixelated"})},[t[22]||(t[22]=e("div",{class:"pointer-events-none fixed inset-0 z-50 opacity-[0.03] bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(0,0,0,0.3)_2px,rgba(0,0,0,0.3)_4px)]"},null,-1)),t[23]||(t[23]=e("div",{class:"pointer-events-none fixed inset-0 z-40 bg-[radial-gradient(ellipse_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"},null,-1)),e("div",ee,[e("header",te,[e("div",se,[e("div",oe,[e("img",{src:s.ICON_CASTLE,alt:"",class:"w-14 h-14 pixelated"},null,8,le),t[0]||(t[0]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold text-amber-400 text-shadow-retro tracking-wide"}," COMMAND CENTER "),e("p",{class:"text-slate-400 text-sm mt-1"}," Welcome back, Commander. All systems operational. ")],-1))]),t[1]||(t[1]=e("div",{class:"pixel-box-sm bg-emerald-900/30 border-emerald-500/50 px-4 py-2 flex items-center gap-2"},[e("div",{class:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e("span",{class:"text-emerald-400 text-xs font-bold uppercase tracking-wider"},"Online")],-1))])]),c(Z),e("div",ae,[e("div",re,[e("div",ie,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Active Roster",-1)),e("p",ne,a(o(d).fighters.length),1)]),e("div",ce,[e("img",{src:s.ICON_KNIGHT,alt:"",class:"w-8 h-8 pixelated"},null,8,de)])]),t[3]||(t[3]=e("div",{class:"mt-4 h-2 pixel-box-sm bg-slate-800/80 overflow-hidden"},[e("div",{class:"h-full bg-linear-to-r from-indigo-600 to-indigo-400",style:{width:"75%"}})],-1))]),e("div",pe,[e("div",xe,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Active Campaigns",-1)),e("p",me,a(o(f).activeLeagueCount),1)]),e("div",_e,[e("img",{src:s.ICON_FLAG,alt:"",class:"w-8 h-8 pixelated"},null,8,ge)])]),t[5]||(t[5]=e("div",{class:"mt-4 flex items-center text-xs"},[e("span",{class:"flex items-center gap-1 text-emerald-400 font-bold"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),b(" LIVE ")]),e("span",{class:"text-slate-500 ml-2"},"Season 1")],-1))]),e("div",ue,[e("div",be,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Combat Record",-1)),e("p",he,a(o(n).recentMatches.length),1)]),e("div",ve,[e("img",{src:s.ICON_SWORDS,alt:"",class:"w-8 h-8 pixelated"},null,8,fe)])]),t[7]||(t[7]=e("div",{class:"mt-4 text-xs text-slate-500"}," Recent engagements ",-1))]),e("div",{class:h(["pixel-box bg-slate-900/90 p-4 group transition-all",o(m).rewardCount>0?"border-amber-500/50 shadow-lg shadow-amber-500/10":""])},[e("div",we,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wider"},"Pending Rewards",-1)),e("p",ye,a(o(m).rewardCount),1)]),e("div",{class:h(["p-3 pixel-box-sm bg-amber-900/30 border-amber-500/30 transition-colors",o(m).rewardCount>0?"animate-pulse border-amber-400/60":""])},[e("img",{src:s.ICON_CHEST,alt:"",class:"w-8 h-8 pixelated"},null,8,Ne)],2)]),e("div",Oe,[o(m).rewardCount>0?(r(),i("button",{key:0,class:"rpg-btn w-full text-sm py-2",onClick:L}," CLAIM ALL ")):(r(),i("p",ke,"No pending rewards"))])],2)]),e("div",Ce,[e("div",Se,[e("div",Le,[e("div",Ie,[e("div",Ee,[e("img",{src:s.ICON_SCROLL,alt:"",class:"w-5 h-5 pixelated"},null,8,Re),t[9]||(t[9]=e("h3",{class:"text-lg font-bold text-amber-300"},"BATTLE LOG",-1))]),c(p,{to:"/matches",class:"rpg-btn-small"},{default:x(()=>[...t[10]||(t[10]=[b(" VIEW ALL ",-1)])]),_:1})]),e("div",Ae,[o(n).isLoading?(r(),i("div",Te,[...t[11]||(t[11]=[e("div",{class:"inline-block animate-spin text-3xl mb-3"},"âš”ï¸",-1),e("p",{class:"text-amber-400 animate-pulse"},"Loading battle data...",-1)])])):o(n).recentMatches.length===0?(r(),i("div",Ge,[e("img",{src:s.ICON_SCROLL_EMPTY,alt:"",class:"w-12 h-12 pixelated mx-auto mb-3 opacity-50"},null,8,Me),t[13]||(t[13]=e("p",{class:"text-slate-400"},"No recent combat data",-1)),c(p,{to:"/matches",class:"rpg-btn-small mt-4 inline-flex"},{default:x(()=>[...t[12]||(t[12]=[b(" JOIN BATTLE ",-1)])]),_:1})])):(r(),i("div",De,[(r(!0),i(R,null,A(o(n).recentMatches,g=>(r(),i("div",{key:g.id,class:"pixel-box-sm bg-slate-800/60 p-3 flex items-center justify-between hover:bg-slate-800/80 transition-colors cursor-pointer"},[e("div",je,[e("div",{class:h(["w-2 h-2 rounded-full",g.ended?"bg-slate-500":"bg-emerald-400 animate-pulse"])},null,2),e("div",null,[e("p",Pe,"Battle #"+a(g.id.slice(0,8)),1),e("p",$e,a(S(g.created)),1)])]),e("span",{class:h(["pixel-badge px-2 py-0.5 text-xs font-bold uppercase",g.ended?"bg-slate-700 text-slate-400":"bg-emerald-900/50 text-emerald-400 border-emerald-500/50"])},a(g.ended?"ENDED":"LIVE"),3)]))),128))]))])])]),e("div",Be,[e("div",He,[e("div",Ve,[e("img",{src:s.ICON_CROWN,alt:"",class:"w-5 h-5 pixelated"},null,8,We),t[14]||(t[14]=e("h3",{class:"text-lg font-bold text-amber-300"},"CHAMPION",-1))]),e("div",ze,[u.value?(r(),i("div",Fe,[e("div",Ue,[e("div",Ye,[e("img",{src:s.ICON_WARRIOR,alt:"",class:"w-14 h-14 pixelated"},null,8,qe)]),e("div",Ke," LVL "+a(u.value.level),1)]),e("h4",Xe,a(u.value.name),1),e("div",Je,[e("span",Qe," Power: "+a(u.value.power),1)])])):(r(),i("div",Ze,[t[16]||(t[16]=e("p",{class:"text-slate-500 text-sm"},"No champions found",-1)),c(p,{to:"/roster",class:"rpg-btn-small mt-3 inline-flex"},{default:x(()=>[...t[15]||(t[15]=[b(" RECRUIT ",-1)])]),_:1})]))])]),e("div",et,[t[21]||(t[21]=e("div",{class:"p-4 border-b-4 border-slate-800"},[e("h3",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Quick Actions")],-1)),e("div",tt,[c(p,{to:"/matches",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-indigo-500/50 transition-all group"},{default:x(()=>[e("img",{src:s.ICON_SWORDS,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,st),t[17]||(t[17]=e("span",{class:"text-xs font-bold text-slate-300"},"BATTLE",-1))]),_:1}),c(p,{to:"/roster",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-purple-500/50 transition-all group"},{default:x(()=>[e("img",{src:s.ICON_KNIGHT,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,ot),t[18]||(t[18]=e("span",{class:"text-xs font-bold text-slate-300"},"ROSTER",-1))]),_:1}),c(p,{to:"/inventory",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-emerald-500/50 transition-all group"},{default:x(()=>[e("img",{src:s.ICON_CHEST,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,lt),t[19]||(t[19]=e("span",{class:"text-xs font-bold text-slate-300"},"VAULT",-1))]),_:1}),c(p,{to:"/leagues",class:"pixel-box-sm bg-slate-800/60 p-4 flex flex-col items-center justify-center hover:bg-slate-800/80 hover:border-amber-500/50 transition-all group"},{default:x(()=>[e("img",{src:s.ICON_TROPHY,alt:"",class:"w-8 h-8 pixelated mb-2 group-hover:scale-110 transition-transform"},null,8,at),t[20]||(t[20]=e("span",{class:"text-xs font-bold text-slate-300"},"LEAGUES",-1))]),_:1})])])])])])],4)}}}),pt=D(rt,[["__scopeId","data-v-cd2f71a5"]]);export{pt as default};
