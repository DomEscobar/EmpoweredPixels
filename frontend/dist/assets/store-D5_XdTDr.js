import{q as s,s as o,x as a,u as i}from"./index-DqA-Xtv1.js";async function n(t){return s(o.fighter,{token:t})}async function h(t,e){return s(o.fighter,{method:"PUT",token:t,body:{name:e}})}async function f(t,e){return s(`${o.fighter}/${e}`,{method:"DELETE",token:t})}const g=a("roster",{state:()=>({fighters:[],isLoading:!1,error:null}),actions:{async fetchFighters(){const t=i();if(t.token){this.isLoading=!0;try{this.fighters=await n(t.token)}catch{this.error="Failed to load roster"}finally{this.isLoading=!1}}},async addFighter(t){const e=i();if(e.token){this.isLoading=!0;try{const r=await h(e.token,t);this.fighters.push(r)}catch(r){throw this.error="Failed to create fighter",r}finally{this.isLoading=!1}}},async removeFighter(t){const e=i();if(e.token)try{await f(e.token,t),this.fighters=this.fighters.filter(r=>r.id!==t)}catch{this.error="Failed to delete fighter"}}}});export{g as u};
