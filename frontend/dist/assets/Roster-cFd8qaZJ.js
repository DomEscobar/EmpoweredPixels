import{d as b,n as y,o as n,c as r,a as t,g as i,w as a,b as d,_ as u,e as l,F as h,p as _,i as w,v as k,t as c,k as C,j as F,l as g,f as N}from"./index-DqA-Xtv1.js";import{u as j}from"./store-D5_XdTDr.js";import{_ as p}from"./BaseCard.vue_vue_type_script_setup_true_lang-CfF40Gby.js";const L={class:"space-y-8"},V={class:"flex items-center justify-between"},$={key:0,class:"flex h-64 items-center justify-center"},D={key:1,class:"flex h-64 flex-col items-center justify-center rounded-xl border border-dashed border-slate-800 bg-slate-900/20 text-center"},S={key:2,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},B={class:"flex items-center justify-between"},M={class:"font-bold text-white"},z={class:"rounded bg-indigo-500/10 px-2 py-0.5 text-xs font-medium text-indigo-400"},R={class:"space-y-4"},q={class:"flex items-center gap-4 text-sm text-slate-400"},E={class:"flex gap-2"},T={key:3,class:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-950/80 p-6 backdrop-blur-sm"},U={class:"block space-y-1"},Y={class:"flex justify-end gap-3 pt-2"},K=b({__name:"Roster",setup(A){const o=j(),f=g(!1),m=g(""),v=async()=>{try{await o.addFighter(m.value),f.value=!1,m.value=""}catch{}};return y(()=>{o.fetchFighters()}),(x,e)=>(n(),r("div",L,[t("header",V,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-3xl font-bold tracking-tight text-white"},"Roster"),t("p",{class:"text-slate-400"},"Manage your squad of fighters.")],-1)),i(u,{onClick:e[0]||(e[0]=s=>f.value=!0)},{default:a(()=>[...e[4]||(e[4]=[d(" New Fighter ",-1)])]),_:1})]),l(o).isLoading&&!l(o).fighters.length?(n(),r("div",$,[...e[6]||(e[6]=[t("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-500 border-t-transparent"},null,-1)])])):l(o).fighters.length?(n(),r("div",S,[(n(!0),r(h,null,_(l(o).fighters,s=>(n(),N(p,{key:s.id,"class-name":"hover:border-indigo-500/50 transition-colors"},{header:a(()=>[t("div",B,[t("h3",M,c(s.name),1),t("span",z," LVL "+c(s.level),1)])]),default:a(()=>[t("div",R,[t("div",q,[t("span",null,"Created "+c(new Date(s.created).toLocaleDateString()),1)]),t("div",E,[i(u,{variant:"secondary",size:"sm","class-name":"flex-1"},{default:a(()=>[...e[9]||(e[9]=[d("View Stats",-1)])]),_:1}),i(u,{variant:"ghost",size:"sm","class-name":"text-red-400 hover:bg-red-500/10",onClick:G=>l(o).removeFighter(s.id)},{default:a(()=>[...e[10]||(e[10]=[d(" Dismiss ",-1)])]),_:1},8,["onClick"])])])]),_:2},1024))),128))])):(n(),r("div",D,[e[8]||(e[8]=t("p",{class:"mb-4 text-slate-400"},"You don't have any fighters yet.",-1)),i(u,{variant:"outline",onClick:e[1]||(e[1]=s=>f.value=!0)},{default:a(()=>[...e[7]||(e[7]=[d("Create your first fighter",-1)])]),_:1})])),f.value?(n(),r("div",T,[i(p,{"class-name":"w-full max-w-md"},{header:a(()=>[...e[11]||(e[11]=[t("h2",{class:"text-xl font-bold"},"New Fighter",-1)])]),default:a(()=>[t("form",{onSubmit:C(v,["prevent"]),class:"space-y-4"},[t("label",U,[e[12]||(e[12]=t("span",{class:"text-sm text-slate-400"},"Fighter Name",-1)),w(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),placeholder:"Enter name...",class:"w-full rounded-md border border-slate-800 bg-slate-900 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none",required:""},null,512),[[k,m.value]])]),t("div",Y,[i(u,{type:"button",variant:"outline",onClick:e[3]||(e[3]=s=>f.value=!1)},{default:a(()=>[...e[13]||(e[13]=[d("Cancel",-1)])]),_:1}),i(u,{type:"submit",disabled:l(o).isLoading},{default:a(()=>[d(c(l(o).isLoading?"Creating...":"Create Fighter"),1)]),_:1},8,["disabled"])])],32)]),_:1})])):F("",!0)]))}});export{K as default};
